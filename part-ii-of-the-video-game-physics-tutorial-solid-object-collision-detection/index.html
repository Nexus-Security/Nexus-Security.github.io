<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="This is Part II of our three-part series on the physics behind video games. To view the rest of this series, please refer to:\nPart I: An Introduction to Rigid Body Dynamics Part III: Constrained Rigid Body Simulation\nIn Part I of this series, we delved into the concept of rigid bodies and how they move. However, our exploration did not include interactions between these objects. Without addressing this, simulated rigid bodies would simply pass through each other, a phenomenon known as “interpenetration”, which is often undesirable.\n"><title>Part II of the Video Game Physics Tutorial: Solid Object Collision Detection</title>
<link rel=canonical href=https://Nexus-Security.github.io/part-ii-of-the-video-game-physics-tutorial-solid-object-collision-detection/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Part II of the Video Game Physics Tutorial: Solid Object Collision Detection"><meta property='og:description' content="This is Part II of our three-part series on the physics behind video games. To view the rest of this series, please refer to:\nPart I: An Introduction to Rigid Body Dynamics Part III: Constrained Rigid Body Simulation\nIn Part I of this series, we delved into the concept of rigid bodies and how they move. However, our exploration did not include interactions between these objects. Without addressing this, simulated rigid bodies would simply pass through each other, a phenomenon known as “interpenetration”, which is often undesirable.\n"><meta property='og:url' content='https://Nexus-Security.github.io/part-ii-of-the-video-game-physics-tutorial-solid-object-collision-detection/'><meta property='og:site_name' content='Nexus Security'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2022-09-05T00:00:00+00:00'><meta property='article:modified_time' content='2022-09-05T00:00:00+00:00'><meta name=twitter:title content="Part II of the Video Game Physics Tutorial: Solid Object Collision Detection"><meta name=twitter:description content="This is Part II of our three-part series on the physics behind video games. To view the rest of this series, please refer to:\nPart I: An Introduction to Rigid Body Dynamics Part III: Constrained Rigid Body Simulation\nIn Part I of this series, we delved into the concept of rigid bodies and how they move. However, our exploration did not include interactions between these objects. Without addressing this, simulated rigid bodies would simply pass through each other, a phenomenon known as “interpenetration”, which is often undesirable.\n"><link rel="shortcut icon" href=/fav.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><ol class=menu-social><li><a href=https://github.com/Nexus-Security target=_blank title=GitHub rel=me><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="150" height="150" viewBox="0 0 150 150"><defs><filter id="alpha" filterUnits="objectBoundingBox" x="0" y="0" width="100%" height="100%"><feColorMatrix type="matrix" in="SourceGraphic" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"/></filter><mask id="mask0"><g filter="url(#alpha)"><rect x="0" y="0" width="150" height="150" style="fill:#000;fill-opacity:.2;stroke:none"/></g></mask><clipPath id="clip1"><rect x="0" y="0" width="150" height="150"/></clipPath><g id="surface5" clip-path="url(#clip1)"><path style="stroke:none;fill-rule:nonzero;fill:#fff;fill-opacity:1" d="M10.9375 83.867188c0-12.109376 3.46875-21.816407 10.925781-30.535157.71875-.875.925781000000001-2.058593.550781000000001-3.125C21.6875 48.125 21.40625 33.070312 26.488281 17.675781c4.78125 1.207031 16.300781 5.050781 31.65625 16.398438C58.9375 34.65625 59.957031 34.84375 60.894531 34.554688 64.824219 33.382812 71.851562 32.6875 79.6875 32.6875S94.550781 33.386719 98.476562 34.554688C99.417969 34.835938 100.433594 34.65625 101.226562 34.074219 113.96875 24.65625 124.011719 20.445312 129.8125 18.582031c-.476562000000001-1.882812-1.019531-3.746093-1.625-5.589843-4.78125 1.207031-16.300781 5.050781-31.648438 16.394531C95.746094 29.96875 94.730469 30.144531 93.789062 29.867188c-3.925781-1.171876-10.953124-1.875-18.789062-1.875-7.832031.0-14.855469.703124000000003-18.792969 1.871093C55.265625 30.144531 54.246094 29.964844 53.457031 29.382812c-15.355469-11.34375-26.875-15.1875-31.65625-16.402343C16.71875 28.382812 17 43.4375 17.726562 45.523438 18.101562 46.589844 17.890625 47.777344 17.175781 48.648438 9.71875 57.367188 6.25 67.070312 6.25 79.179688c0 23.515624 7.175781 37.921874 17.417969 46.550781C16.007812 116.851562 10.9375 103.582031 10.9375 83.867188zm0 0"/></g><mask id="mask1"><g filter="url(#alpha)"><rect x="0" y="0" width="150" height="150" style="fill:#000;fill-opacity:.101961;stroke:none"/></g></mask><clipPath id="clip2"><rect x="0" y="0" width="150" height="150"/></clipPath><g id="surface8" clip-path="url(#clip2)"><path style="stroke:none;fill-rule:nonzero;fill:#000;fill-opacity:1" d="M32.34375 78.5c3.945312-4 9.382812-5.074219 16.039062-5.074219C51.925781 73.425781 55.824219 73.730469 60.023438 74.054688c4.71875.375 9.589843.71875 14.84375.746093000000002C80.335938 74.917969 85.210938 74.425781 89.976562 74.054688 102.070312 73.125 111.605469 72.367188 117.648438 78.492188c4.527343 4.601562 6.890624 10.328124 7.21875 16.945312C124.925781 94.398438 125 93.382812 125 92.261719c0-7.285157-2.476562-13.492188-7.351562-18.449219-6.042969-6.117188-15.578126-5.367188-27.671876-4.4375C85.210938 69.742188 80.34375 70.238281 74.867188 70.117188 69.914062 70.0625 64.960938 69.8125 60.023438 69.375 55.824219 69.050781 51.929688 68.742188 48.382812 68.742188c-6.65625.0-12.09375 1.070312-16.039062 5.078124C27.476562 78.769531 25 84.976562 25 92.261719 25 93.375 25.074219 94.398438 25.132812 95.445312 25.460938 88.820312 27.820312 83.101562 32.34375 78.5zm0 0"/></g><linearGradient id="linear0" gradientUnits="userSpaceOnUse" x1="10.768" y1="13.86" x2="18.633" y2="21.724" gradientTransform="matrix(6.25,0,0,6.25,0,0)"><stop offset="0" style="stop-color:#000;stop-opacity:.101961"/><stop offset="1" style="stop-color:#000;stop-opacity:0"/></linearGradient><linearGradient id="linear1" gradientUnits="userSpaceOnUse" x1="4.004" y1="18.529" x2="4.047" y2="18.573" gradientTransform="matrix(6.25,0,0,6.25,0,0)"><stop offset="0" style="stop-color:#000;stop-opacity:.101961"/><stop offset="1" style="stop-color:#000;stop-opacity:0"/></linearGradient><linearGradient id="linear2" gradientUnits="userSpaceOnUse" x1=".617" y1="5.771" x2="23.69" y2="16.53" gradientTransform="matrix(6.25,0,0,6.25,0,0)"><stop offset="0" style="stop-color:#fff;stop-opacity:.2"/><stop offset="1" style="stop-color:#fff;stop-opacity:0"/></linearGradient></defs><g id="surface1"><path style="stroke:none;fill-rule:nonzero;fill:#303c42;fill-opacity:1" d="M138.570312 45.789062C139.492188 39.613281 138.867188 23.738281 133.167969 8.292969 132.660156 6.945312 131.300781 6.113281 129.867188 6.273438 129.269531 6.34375 115.1875 8.164062 94.039062 23.46875 89.445312 22.363281 82.632812 21.742188 75 21.742188s-14.4375.625-19.042969 1.726562C34.800781 8.15625 20.71875 6.34375 20.117188 6.273438 18.6875 6.117188 17.332031 6.949219 16.820312 8.292969 11.117188 23.738281 10.5 39.613281 11.425781 45.789062 3.742188 55.289062.0 66.230469.0 79.179688c0 41.632812 21.824219 64.558593 61.457031 64.558593L75 143.75 88.539062 143.738281C128.167969 143.738281 150 120.8125 150 79.179688c0-12.949219-3.742188-23.890626-11.429688-33.390626zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#5c6671;fill-opacity:1" d="M88.539062 137.488281 75 137.5 61.457031 137.488281C36.273438 137.488281 6.25 127.367188 6.25 79.179688c0-12.109376 3.46875-21.816407 10.925781-30.535157.71875-.875.925781000000001-2.058593.550781000000001-3.125C17 43.4375 16.71875 28.382812 21.800781 12.988281c4.78125 1.207031 16.300781 5.050781 31.65625 16.398438C54.25 29.96875 55.269531 30.15625 56.207031 29.867188c3.9375-1.171876 10.960938-1.875 18.792969-1.875 7.835938.0 14.863281.703124000000003 18.789062 1.871093C94.730469 30.140625 95.746094 29.964844 96.539062 29.382812c15.347657-11.34375 26.867188-15.1875 31.648438-16.394531 5.082031 15.394531 4.804688 30.449219 4.082031 32.53125C131.867188 46.585938 132.078125 47.785156 132.820312 48.648438 140.273438 57.367188 143.75 67.070312 143.75 79.179688c0 48.1875-30.023438 58.308593-55.210938 58.308593zm0 0"/><use xlink:href="#surface5" mask="url(#mask0)"/><path style="stroke:none;fill-rule:nonzero;fill:#303c42;fill-opacity:1" d="M89.488281 63.144531C84.886719 63.507812 80.125 63.875 75.226562 63.875H74.78125C69.875 63.875 65.117188 63.5 60.519531 63.144531 47.898438 62.164062 35.988281 61.230469 27.894531 69.429688 21.824219 75.59375 18.75 83.28125 18.75 92.261719 18.75 128.238281 46.429688 131.25 75.226562 131.25c28.34375.0 56.023438-3.011719 56.023438-38.988281.0-8.988281-3.074219-16.667969-9.144531-22.835938-8.085938-8.195312-20.003907-7.269531-32.617188-6.28125zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#d9cfcc;fill-opacity:1" d="M74.773438 125C42.492188 125 25 119.78125 25 92.261719c0-7.285157 2.476562-13.492188 7.34375-18.449219 3.945312-4 9.382812-5.074219 16.039062-5.074219C51.925781 68.738281 55.824219 69.042969 60.023438 69.367188c4.71875.375 9.589843.71875 14.84375.746093000000002C80.335938 70.230469 85.210938 69.738281 89.976562 69.367188c12.09375-.929687999999999 21.628907-1.6875 27.671876 4.4375C122.523438 78.769531 125 84.976562 125 92.261719 125 119.78125 107.507812 125 74.773438 125zm0 0"/><use xlink:href="#surface8" mask="url(#mask1)"/><path style="stroke:none;fill-rule:nonzero;fill:#303c42;fill-opacity:1" d="M50 75c-7.125.0-12.5 9.40625-12.5 21.875S42.875 118.75 50 118.75s12.5-9.40625 12.5-21.875S57.125 75 50 75zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#6d4c41;fill-opacity:1" d="M50 112.5c-2.550781.0-6.25-6.085938-6.25-15.625S47.449219 81.25 50 81.25s6.25 6.085938 6.25 15.625S52.550781 112.5 50 112.5zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#303c42;fill-opacity:1" d="M1e2 75c-7.125.0-12.5 9.40625-12.5 21.875S92.875 118.75 1e2 118.75s12.5-9.40625 12.5-21.875S107.125 75 1e2 75zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#6d4c41;fill-opacity:1" d="M1e2 112.5c-2.550781.0-6.25-6.085938-6.25-15.625S97.449219 81.25 1e2 81.25s6.25 6.085938 6.25 15.625S102.550781 112.5 1e2 112.5zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#a1887f;fill-opacity:1" d="M52.21875 90.511719c0 1.539062-1.246094 2.789062-2.789062 2.789062-1.539063.0-2.785157-1.25-2.785157-2.789062.0-1.539063 1.246094-2.785157 2.785157-2.785157 1.542968.0 2.789062 1.246094 2.789062 2.785157zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:#a1887f;fill-opacity:1" d="M102.21875 90.511719c0 1.539062-1.246094 2.789062-2.789062 2.789062-1.539063.0-2.785157-1.25-2.785157-2.789062.0-1.539063 1.246094-2.785157 2.785157-2.785157 1.542968.0 2.789062 1.246094 2.789062 2.785157zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:url(#linear0)" d="M125 72.8125 124.894531 72.855469C129.039062 78.382812 131.25 84.851562 131.25 92.261719c0 35.976562-27.679688 38.988281-56.023438 38.988281-16.664062.0-32.914062-1.054688-43.683593-8.875l13.386719 13.386719c5.507812 1.207031 11.121093 1.71875 16.527343 1.71875L75 137.5 88.539062 137.488281c22.992188.0 49.941407-8.53125 54.472657-46.664062zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:url(#linear1)" d="M25.070312 115.800781 25 115.832031 25.269531 116.101562zm0 0"/><path style="stroke:none;fill-rule:nonzero;fill:url(#linear2)" d="M138.570312 45.789062C139.492188 39.613281 138.867188 23.738281 133.167969 8.292969 132.660156 6.945312 131.300781 6.113281 129.867188 6.273438 129.269531 6.34375 115.1875 8.164062 94.039062 23.46875 89.445312 22.363281 82.632812 21.742188 75 21.742188s-14.4375.625-19.042969 1.726562C34.800781 8.15625 20.71875 6.34375 20.117188 6.273438 18.6875 6.117188 17.332031 6.949219 16.820312 8.292969 11.117188 23.738281 10.5 39.613281 11.425781 45.789062 3.742188 55.289062.0 66.230469.0 79.179688c0 41.632812 21.824219 64.558593 61.457031 64.558593L75 143.75 88.539062 143.738281C128.167969 143.738281 150 120.8125 150 79.179688c0-12.949219-3.742188-23.890626-11.429688-33.390626zm0 0"/></g></svg></a></li><li><a href=mailto:0x000216@gmail.com target=_blank title=Email rel=me><svg width="512" height="512" viewBox="0 0 512 512"><path d="M33.994 73.934C27.135 76.021 21.866 80.426 18.364 87 16.567 90.374 16.5 96.438 16.5 256V421.5l2.158 4C21.184 430.18 25.101 434.027 30 436.636 33.003 438.235 36.304 438.546 53.246 438.825L72.993 439.15l.253-137.978L73.5 163.194 90 175.45C99.075 182.191 140.17 212.762 181.321 243.386l74.821 55.68 21.179-15.752C288.97 274.65 330 244.021 368.5 215.248l70-52.312L438.754 301.043 439.007 439.15 458.754 438.825C476.726 438.529 478.859 438.306 482.5 436.342 487.18 433.816 491.027 429.899 493.636 425 495.433 421.626 495.5 415.562 495.5 256 495.5 96.438 495.433 90.374 493.636 87 488.565 77.48 482.099 73.799 469.397 73.202L460.293 72.774 454.397 77.337C439.883 88.566 256.423 221.935 255.772 221.73 254.976 221.479 78.972 93.309 62.177 80.75L51.812 73 44.156 73.086C39.945 73.133 35.372 73.515 33.994 73.934" stroke="none" fill="#d34c3c" fill-rule="evenodd"/><path d="M54.528 74.911C55.612 75.963 74.953 90.25 97.507 106.661c22.555 16.412 67.228 48.964 99.275 72.339s58.594 42.604 58.993 42.731C256.549 221.978 454.147 78.147 457.472 74.916 459.416 73.028 456.501 73 256 73 55.677 73 52.586 73.029 54.528 74.911M73 300.878V439H256 439V300.941C439 190.749 438.748 163.038 437.75 163.654 437.063 164.078 405.45 187.632 367.5 215.994c-37.95 28.363-78.528 58.655-90.173 67.316l-21.173 15.748-66.827-49.716C152.572 221.999 111.925 191.776 99 182.18s-24.062-17.892-24.75-18.436C73.251 162.954 73 190.519 73 300.878" stroke="none" fill="#e5e5e5" fill-rule="evenodd"/></svg></a></li><li><a href=https://nexus-security.github.io/index.xml target=_blank title=RSS rel=me><svg id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><path style="fill:#f78c20" d="M78.333 355.334C35.14 355.334.0 390.474.0 433.667S35.14 512 78.333 512s78.333-35.14 78.333-78.333-35.14-78.333-78.333-78.333z"/><g><path style="fill:#ffa929" d="M78.333 381.445c-28.795.0-52.222 23.427-52.222 52.222s23.427 52.222 52.222 52.222 52.222-23.427 52.222-52.222-23.427-52.222-52.222-52.222z"/><path style="fill:#ffa929" d="M477.918 264.861c-21.843-51.641-53.111-98.019-92.936-137.842-39.824-39.824-86.201-71.093-137.843-92.935C193.669 11.468 136.874.0 78.333.0c-4.807.0-8.704 3.897-8.704 8.704v85.519c0 4.807 3.897 8.704 8.704 8.704 182.37.0 330.74 148.369 330.74 330.74.0 4.807 3.897 8.704 8.704 8.704h85.52c4.807.0 8.704-3.897 8.704-8.704C512 375.126 500.533 318.331 477.918 264.861z"/><path style="fill:#ffa929" d="M78.333 163.853c-4.807.0-8.704 3.897-8.704 8.704v95.74c0 4.807 3.897 8.704 8.704 8.704 86.386.0 156.666 70.281 156.666 156.666.0 4.807 3.897 8.704 8.704 8.704h95.74c4.807.0 8.704-3.897 8.704-8.704.0-72.07-28.065-139.826-79.027-190.787-50.961-50.961-118.717-79.027-190.787-79.027z"/></g><g><path style="fill:#f78c20" d="M78.333 242.186c-2.918.0-5.817.076-8.704.206v25.905c0 4.807 3.897 8.704 8.704 8.704 86.386.0 156.666 70.281 156.666 156.666.0 4.807 3.897 8.704 8.704 8.704h25.905c.129-2.886.206-5.786.206-8.704.0-105.752-85.729-191.481-191.481-191.481z"/><path style="fill:#f78c20" d="M78.333 68.113c-2.91.0-5.81.042-8.704.11v26.001c0 4.807 3.897 8.704 8.704 8.704 182.37.0 330.74 148.369 330.74 330.74.0 4.807 3.897 8.704 8.704 8.704h26.001c.067-2.894.11-5.793.11-8.704C443.887 231.777 280.223 68.113 78.333 68.113z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li><li><a href=https://x.com/0x000216 target=_blank title=Twitter rel=me><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="150" height="150" viewBox="0 0 150 150"><g id="surface1"><path style="stroke:none;fill-rule:nonzero;fill:#03a9f4;fill-opacity:1" d="M150 33.179688c-5.640625 2.460937-11.609375 4.09375-17.71875 4.855468 6.4375-3.820312 11.25-9.867187 13.527344-16.996094-6.027344 3.574219-12.621094 6.089844-19.5 7.441407-8.628906-9.210938-22.007813-12.214844-33.746094-7.574219-11.738281 4.636719-19.449219 15.980469-19.445312 28.601562.0 2.4375.203124000000003 4.78125.710937000000001 7.015626C49.085938 55.308594 26.03125 43.609375 10.445312 24.355469 2.25 38.402344 6.386719 56.398438 19.894531 65.457031 15.027344 65.324219 10.261719 64.027344 6 61.667969V62.007812c.015625 14.636719 10.304688 27.25 24.636719 30.214844-2.628907.691406000000001-5.339844 1.03125-8.0625 1.011719C20.621094 93.269531 18.667969 93.09375 16.753906 92.710938c4.070313 12.507812 15.585938 21.089843 28.734375 21.421874-10.886719 8.511719-24.308593 13.128907-38.128906 13.113282C4.835938 127.246094 2.417969 127.132812.0 126.824219c14.0625 9.0625 30.445312 13.855469 47.175781 13.800781 56.585938.0 87.523438-46.875 87.523438-87.507812.0-1.359376-.046875-2.671876-.113281000000001-3.972657C140.652344 44.804688 145.875 39.394531 150 33.179688zm0 0"/></g></svg></a></li><li><a href=https://www.minds.com/0x000216/ target=_blank title=Minds rel=me><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><g><g><path style="fill:#ffe1b2" d="M256 33.085C245.078 13.38 224.079.0 2e2.0c-23.781.0-45.57 13.293-56.594 34.184C115.711 41.602 96 66.977 96 96c0 .059.0.113.0.172-9.977 7.512-16 19.301-16 31.828.0 1.316.078 2.637.234 3.992C60.211 145.266 48 167.758 48 192c0 14.07 4.039 27.543 11.719 39.262C57.273 236.512 56 242.207 56 248c0 2.738.281 5.445.828 8.098C36.672 267.308 24 288.539 24 312c0 27.973 18.305 52.34 44.109 60.785C65.398 378.828 64 385.324 64 392c0 21.098 13.805 39.508 33.539 45.727C103.891 466.746 129.828 488 160 488c4.617.0 9.227-.512 13.766-1.527C181.992 502 198.141 512 216 512c16.687.0 31.396-8.567 40-21.523V33.085z"/></g><g><g><path style="fill:#ffb980" d="M264 256c-4.422.0-8-3.582-8-8 0-22.055-17.945-40-40-40-8.008.0-15.734 2.355-22.336 6.812-3.023 2.043-7.055 1.781-9.797-.652-3.156-2.809-8.477-6.16-15.867-6.16-4.422.0-8-3.582-8-8s3.578-8 8-8c7.711.0 15.234 2.293 21.719 6.539C197.773 194.246 206.758 192 216 192c30.875.0 56 25.121 56 56C272 252.418 268.422 256 264 256z"/></g></g><g><g><path style="fill:#ffb980" d="M120 120c18.977.0 36.875 7.312 50.414 20.594 3.141 3.09 8.203 3.047 11.312-.109 3.094-3.152 3.047-8.219-.109-11.312C165.07 112.941 143.187 104 120 104c-13.046.0-25.395 2.93-36.542 8.046C81.253 117.019 80 122.423 80 128c0 1.316.078 2.637.234 3.992-.094.062-.173.139-.267.202C91.423 124.501 105.193 120 120 120z"/></g></g><g><g><path style="fill:#ffb980" d="M216 360c0-4.418-3.578-8-8-8s-8 3.582-8 8c0 17.645-14.352 32-32 32-14.211.0-26.82-9.648-30.664-23.465-.703-2.512-2.578-4.523-5.039-5.395-2.453-.871-5.188-.492-7.305 1.02C114.094 371.906 101.305 376 88 376c-6.948.0-13.625-1.149-19.894-3.207-2.214 4.939-3.501 10.19-3.916 15.586C71.714 390.73 79.711 392 88 392c13.297.0 26.187-3.266 37.773-9.52C133.969 397.894 150.141 408 168 408c26.469.0 48-21.531 48-48z"/></g></g><g><path style="fill:#fdc88e" d="M488 312c0-23.461-12.672-44.691-32.828-55.902.547-2.652.828-5.359.828-8.098.0-5.793-1.273-11.488-3.719-16.738C459.961 219.543 464 206.07 464 192c0-24.242-12.211-46.734-32.234-60.008.156-1.355.234-2.676.234-3.992.0-12.527-6.023-24.316-16-31.828.0-.059.0-.113.0-.172.0-29.023-19.711-54.398-47.406-61.816C357.57 13.293 335.781.0 312 0c-24.08.0-45.078 13.38-56 33.085v457.391C264.604 503.433 279.313 512 296 512c17.859.0 34.008-10 42.234-25.527C342.773 487.488 347.383 488 352 488c30.172.0 56.109-21.254 62.461-50.273C434.195 431.508 448 413.097 448 392c0-6.676-1.398-13.172-4.109-19.215C469.695 364.34 488 339.973 488 312z"/></g><g><path style="fill:#f8ab6b" d="M272.008 151.199C272 151.465 272 151.734 272 152c0 26.469 21.531 48 48 48s48-21.531 48-48c0-4.418-3.578-8-8-8s-8 3.582-8 8c0 17.645-14.352 32-32 32s-32-14.355-32-32c0-2.184.219-4.359.656-6.465.492-2.395-.133-4.883-1.703-6.754-1.57-1.871-4.016-3.066-6.352-2.859-.453.012-.891.059-.602.078-13.234.0-24-10.766-24-24v31.813C260.673 147.348 266.061 149.988 272.008 151.199z"/></g><g><path style="fill:#f8ab6b" d="M296 328c9.242.0 18.219-2.246 26.281-6.539C328.765 325.707 336.289 328 344 328c4.422.0 8-3.582 8-8s-3.578-8-8-8c-7.391.0-12.711-3.352-15.867-6.16-2.742-2.434-6.766-2.695-9.797-.656C311.726 309.644 304 312 296 312c-22.055.0-40-17.945-40-40v39.116C266.174 321.517 280.337 328 296 328z"/></g><g><g><path style="fill:#f8ab6b" d="M431.765 131.992c.156-1.355.234-2.676.234-3.992.0-5.577-1.253-10.981-3.458-15.954C417.395 106.93 405.046 104 392 104c-4.422.0-8 3.582-8 8s3.578 8 8 8c14.807.0 28.577 4.501 40.032 12.194C431.939 132.131 431.859 132.054 431.765 131.992z"/></g></g><g><g><path style="fill:#f8ab6b" d="M447.81 388.38c-.415-5.396-1.702-10.647-3.916-15.586C437.624 374.85 430.948 376 424 376c-13.578.0-26.594-4.266-37.641-12.332-2.07-1.5-4.719-1.93-7.133-1.168-2.43.77-4.344 2.648-5.164 5.059C369.101 382.176 355.414 392 340 392c-4.422.0-8 3.582-8 8s3.578 8 8 8c18.875.0 35.961-10.191 45.094-26.156C396.976 388.512 410.258 392 424 392 432.288 392 440.285 390.73 447.81 388.38z"/></g></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li><li><a href=https://www.buymeacoffee.com/0x000216 target=_blank title=Coffee rel=me><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 340 340" style="enable-background:new 0 0 340 340"><g id="XMLID_18_"><polygon id="XMLID_138_" style="fill:#dedde0" points="76.429,290 80,340 170,340 170,290"/><polygon id="XMLID_169_" style="fill:#dedde0" points="170,80 61.429,80 65,130 170,130"/><polygon id="XMLID_197_" style="fill:#acabb1" points="170,290 170,340 260,340 263.571,290"/><polygon id="XMLID_221_" style="fill:#acabb1" points="170,80 170,130 275,130 278.571,80"/><path id="XMLID_222_" style="fill:#ffda44" d="M170 260c-22.091.0-40-22.386-40-50s17.909-50 40-50v-30H65 50l10 160h16.429H170V260z"/><path id="XMLID_33_" style="fill:#ff9811" d="M170 130v30c22.091.0 40 22.386 40 50s-17.909 50-40 50v30h93.571H280l10-160h-15H170z"/><path id="XMLID_223_" style="fill:#50412e" d="M210 210c0-27.614-17.909-50-40-50v1e2c22.091.0 40-22.386 40-50z"/><path id="XMLID_224_" style="fill:#786145" d="M130 210c0 27.614 17.909 50 40 50V160c-22.091.0-40 22.386-40 50z"/><polygon id="XMLID_225_" style="fill:#50412e" points="278.571,80 300,80 300,40 260,40 260,0 80,0 80,40 40,40 40,80 61.429,80 170,80"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About Us</span></a></li><li><a href=/termsofservice/><svg class="icon icon-tabler icon-tabler-pencil" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4L18.5 9.5a1.5 1.5.0 00-4-4L4 16v4"/><line x1="13.5" y1="6.5" x2="17.5" y2="10.5"/></svg>
<span>Terms Of Service</span></a></li><li><a href=/privacypolicy/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Privacy Policy</span></a></li><li><a href=/disclaimer/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Disclaimer</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/contact/><svg class="icon icon-tabler icon-tabler-mail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg>
<span>Contact Us</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#collision-physics-in-video-games>Collision Physics in Video Games</a></li><li><a href=#broad-phase>Broad Phase</a><ol><li><a href=#the-sort-and-sweep-algorithm>The Sort and Sweep Algorithm</a></li><li><a href=#dynamic-bounding-volume-trees>Dynamic Bounding Volume Trees</a></li></ol></li><li><a href=#narrow-phase>Narrow Phase</a><ol><li><a href=#convex-and-concave-shapes>Convex and Concave Shapes</a></li><li><a href=#testing-for-intersections---the-separating-axis-theorem>Testing for Intersections - The Separating Axis Theorem</a></li><li><a href=#computing-distance---the-gilbert-johnson-keerthi-algorithm>Computing Distance - The Gilbert-Johnson-Keerthi Algorithm</a></li><li><a href=#determining-penetration-depth---the-expanding-polytope-algorithm>Determining Penetration Depth - The Expanding Polytope Algorithm</a></li></ol></li><li><a href=#continuous-collision-detection>Continuous Collision Detection</a></li><li><a href=#resolving-collisions>Resolving Collisions</a></li><li><a href=#references>References</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/part-ii-of-the-video-game-physics-tutorial-solid-object-collision-detection/>Part II of the Video Game Physics Tutorial: Solid Object Collision Detection</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 05, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>21 minute read</time></div></footer></div></header><section class=article-content><p><em><strong>This is Part II of our three-part series on the physics behind video games. To view the rest of this series, please refer to:</strong></em></p><p>Part I: An Introduction to Rigid Body Dynamics
Part III: Constrained Rigid Body Simulation</p><hr><p>In Part I of this series, we delved into the concept of rigid bodies and how they move. However, our exploration did not include interactions between these objects. Without addressing this, simulated rigid bodies would simply pass through each other, a phenomenon known as “interpenetration”, which is often undesirable.</p><p>To create more realistic simulations of solid object behavior, we need to determine if they collide every time they move. If a collision is detected, we need to implement a response, such as applying forces to alter their velocities, causing them to move away from each other. This highlights why understanding collision physics is crucial for game developers.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg" media="(min-width: 1920.1px)"><img alt="video game physics and collision detection" src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F924%2Ftoptal-blog-image-1425298886178.jpg" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>This part will focus on the collision detection step. This involves identifying colliding body pairs within a potentially large number of bodies dispersed throughout a 2D or 3D environment. In the final installment, we will delve into &ldquo;solving&rdquo; these collisions to eliminate interpenetrations.</p><p>For a refresher on the linear algebra concepts mentioned in this article, you can refer to the linear algebra crash course provided in Part I.</p><h2 id=collision-physics-in-video-games>Collision Physics in Video Games</h2><p>In the realm of rigid body simulations, a collision occurs when the shapes of two rigid bodies intersect or when the distance between them falls below a small threshold.</p><p>With <em>n</em> bodies in our simulation, the computational complexity of detecting collisions using pairwise tests is <em>O</em>(_n_2), a figure that often gives computer scientists pause. The number of pairwise tests increases quadratically with the number of bodies, and determining if two shapes, in arbitrary positions and orientations, are colliding is already computationally expensive. To optimize collision detection, we typically divide it into two phases: <strong>broad phase</strong> and <strong>narrow phase</strong>.</p><p>The broad phase aims to identify pairs of rigid bodies that are <em>potentially</em> colliding, eliminating pairs that are definitely not colliding from the entire set of bodies within the simulation. This step must scale effectively with the number of rigid bodies to avoid reaching the undesirable <em>O</em>(_n_2) time complexity. To achieve this, it typically employs <em>space partitioning</em> in conjunction with <em>bounding volumes</em> that define an upper limit for collision detection.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png" media="(min-width: 1920.1px)"><img alt=BroadPhase src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127136%2Ftoptal-blog-image-1536860439039-de0a153ffc976acf1518901b1b7334ac.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>The narrow phase focuses on the pairs identified by the broad phase as potentially colliding. It acts as a refinement step, determining if collisions are actually occurring. For each confirmed collision, it calculates the contact points, which are crucial for resolving collisions later.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png" media="(min-width: 1920.1px)"><img alt=NarrowPhase src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127137%2Ftoptal-blog-image-1536860452011-35329293335b657b356b2225b56ccac6.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>The following sections will discuss some algorithms suitable for the broad and narrow phases.</p><h2 id=broad-phase>Broad Phase</h2><p>In the broad phase of collision physics for video games, we need to determine which pairs of rigid bodies <em>might</em> be colliding. These bodies can have intricate shapes like polygons and polyhedrons. To expedite this process, we can enclose each object within a simpler shape. If these <a class=link href=https://en.wikipedia.org/wiki/Bounding_volume target=_blank rel=noopener><strong>bounding volumes</strong></a> don&rsquo;t intersect, we can rule out any intersection between the actual shapes. If they do intersect, then the actual shapes <em>might</em> be intersecting.</p><p>Common types of bounding volumes include oriented bounding boxes (OBB), circles in 2D, and spheres in 3D. Let&rsquo;s examine one of the simplest bounding volumes: <strong>axis-aligned bounding boxes (AABB)</strong>.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png" media="(min-width: 1920.1px)"><img alt=BoundingVolumes src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127138%2Ftoptal-blog-image-1536860475018-5c9ae233705ac67cf2d74ff19023d6a8.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>AABBs are favored by physics programmers for their simplicity and advantageous trade-offs. A 2-dimensional AABB can be represented by a struct like this in the C language:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>Vector2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Vector2</span> <span class=n>min</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Vector2</span> <span class=n>max</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>AABB</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>min</code> field represents the coordinates of the box&rsquo;s bottom left corner, while the <code>max</code> field represents the top right corner.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png" media="(min-width: 1920.1px)"><img alt=AABB src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127139%2Ftoptal-blog-image-1536860486471-1d526817c5d7ae82bd23de90e76c1b4b.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>To determine if two AABBs intersect, we simply need to check if their projections overlap on all coordinate axes:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>BOOL</span> <span class=nf>TestAABBOverlap</span><span class=p>(</span><span class=n>AABB</span><span class=o>*</span> <span class=n>a</span><span class=p>,</span> <span class=n>AABB</span><span class=o>*</span> <span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>d1x</span> <span class=o>=</span> <span class=n>b</span><span class=o>-&gt;</span><span class=n>min</span><span class=p>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>a</span><span class=o>-&gt;</span><span class=n>max</span><span class=p>.</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>d1y</span> <span class=o>=</span> <span class=n>b</span><span class=o>-&gt;</span><span class=n>min</span><span class=p>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>a</span><span class=o>-&gt;</span><span class=n>max</span><span class=p>.</span><span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>d2x</span> <span class=o>=</span> <span class=n>a</span><span class=o>-&gt;</span><span class=n>min</span><span class=p>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>b</span><span class=o>-&gt;</span><span class=n>max</span><span class=p>.</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>d2y</span> <span class=o>=</span> <span class=n>a</span><span class=o>-&gt;</span><span class=n>min</span><span class=p>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>b</span><span class=o>-&gt;</span><span class=n>max</span><span class=p>.</span><span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>d1x</span> <span class=o>&gt;</span> <span class=mf>0.0f</span> <span class=o>||</span> <span class=n>d1y</span> <span class=o>&gt;</span> <span class=mf>0.0f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>d2x</span> <span class=o>&gt;</span> <span class=mf>0.0f</span> <span class=o>||</span> <span class=n>d2y</span> <span class=o>&gt;</span> <span class=mf>0.0f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>TRUE</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This code mirrors the logic of the <code>b2TestOverlap</code> function from the <a class=link href=http://box2d.org target=_blank rel=noopener>Box2D</a> engine (version 2.3.0). It computes the difference between the <code>min</code> and <code>max</code> values of both AABBs, across both axes, and in both orders. If any of these differences are positive, the AABBs don&rsquo;t intersect.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png" media="(min-width: 1920.1px)"><img alt=AABBOverlap src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127140%2Ftoptal-blog-image-1536860501452-3885e23f3c2349a5c17de5c774bce46d.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Despite the efficiency of an AABB overlap test, if we still perform pairwise tests for every possible pair, we encounter the unfavorable <em>O</em>(_n_2) time complexity. To minimize the number of AABB overlap tests, we can employ a <a class=link href=https://en.wikipedia.org/wiki/Space_partitioning target=_blank rel=noopener><strong>space partitioning</strong></a>, operating on similar principles as the <a class=link href=https://en.wikipedia.org/wiki/Database_index target=_blank rel=noopener>database indices</a> used to accelerate queries. (Geographical databases, such as <a class=link href=http://postgis.net/ target=_blank rel=noopener>PostGIS</a>, utilize comparable data structures and algorithms for spatial indexing.) However, the AABBs in our case are constantly moving, often requiring index recreation after each simulation step.</p><p>Numerous space partitioning algorithms and data structures are suitable for this purpose, including <a class=link href=https://en.wikipedia.org/wiki/Regular_grid target=_blank rel=noopener>uniform grids</a>, <a class=link href=https://en.wikipedia.org/wiki/Quadtree target=_blank rel=noopener>quadtrees</a> in 2D, <a class=link href=https://en.wikipedia.org/wiki/Octree target=_blank rel=noopener>octrees</a> in 3D, and <a class=link href=http://matthias-mueller-fischer.ch/publications/tetraederCollision.pdf target=_blank rel=noopener>spatial hashing</a>. Let&rsquo;s delve into two prevalent spatial partitioning algorithms: sort and sweep, and bounding volume hierarchies (BVH).</p><h3 id=the-sort-and-sweep-algorithm>The Sort and Sweep Algorithm</h3><p>The <strong>sort and sweep</strong> method (also known as <a class=link href=https://en.wikipedia.org/wiki/Sweep_and_prune target=_blank rel=noopener><strong>sweep and prune</strong></a>) is a preferred choice among physics programmers for rigid body simulations. The <a class=link href=http://bulletphysics.org/wordpress/ target=_blank rel=noopener>Bullet Physics</a> engine, for instance, implements this method in its <a class=link href=http://bulletphysics.org/Bullet/BulletFull/classbtAxisSweep3.html target=_blank rel=noopener><code>btAxisSweep3</code></a> class.</p><p>Projecting an AABB onto a single coordinate axis essentially yields an interval [<em>b</em>, <em>e</em>] (representing beginning and end). With numerous rigid bodies in our simulation, we have many AABBs and consequently, many intervals. Our goal is to identify the intersecting intervals.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png" media="(min-width: 1920.1px)"><img alt=SortAndSweep src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127141%2Ftoptal-blog-image-1536860515951-8366390a0c77557a9c5bb65632e3e46b.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>In the sort and sweep algorithm, we compile all <em>b</em> and <em>e</em> values into a single list, sorting it in ascending order based on their scalar values. We then <em>sweep</em> or traverse this list. When a <em>b</em> value is encountered, its corresponding interval is added to a separate <em>active intervals</em> list. Conversely, when an <em>e</em> value is encountered, its corresponding interval is removed from the active intervals list. At any given moment, all intervals in the active intervals list are intersecting. (Refer to David Baraff’s Ph. D Thesis](<a class=link href=http://www.cs.cmu.edu/~baraff/papers/thesis-part1.ps.Z%29 target=_blank rel=noopener>http://www.cs.cmu.edu/~baraff/papers/thesis-part1.ps.Z)</a>, p. 52 for a detailed explanation. Using <a class=link href=http://view.samurajdata.se target=_blank rel=noopener>this online tool</a> to view the postscript file is recommended.) This interval list can be reused in subsequent simulation steps, allowing efficient resorting using [insertion sort], which excels at sorting nearly-sorted lists.</p><p>In two and three dimensions, applying the sort and sweep along a single coordinate axis reduces the number of direct AABB intersection tests. However, the performance gain might vary depending on the chosen axis. Consequently, more sophisticated variations of the sort and sweep algorithm are employed. In his book <a class=link href=http://realtimecollisiondetection.net/ target=_blank rel=noopener><em>Real-Time Collision Detection</em></a> (page 336), Christer Ericson presents an efficient variation. This variation stores all AABBs in a single array. For each sort and sweep iteration, one coordinate axis is selected, and the array is sorted based on the <code>min</code> value of the AABBs along the chosen axis using <a class=link href=https://en.wikipedia.org/wiki/Quicksort target=_blank rel=noopener>quicksort</a>. The array is then traversed, and AABB overlap tests are performed. To determine the next sorting axis, the <a class=link href=https://en.wikipedia.org/wiki/Variance target=_blank rel=noopener>variance</a> of the AABB centers is calculated, and the axis with the largest variance is chosen for the next step.</p><h3 id=dynamic-bounding-volume-trees>Dynamic Bounding Volume Trees</h3><p>Another effective spatial partitioning method is the <strong>dynamic bounding volume tree</strong>, or <strong>Dbvt</strong>. This is a type of <a class=link href=https://en.wikipedia.org/wiki/Bounding_volume_hierarchy target=_blank rel=noopener><strong>bounding volume hierarchy</strong></a>.</p><p>The Dbvt is a binary tree where each node possesses an AABB encompassing the AABBs of its children. The AABBs of the rigid bodies themselves reside in the leaf nodes. Typically, a Dbvt is “queried” by providing the AABB for which we want to detect intersections. This operation is efficient because we can disregard the children of nodes whose AABBs don&rsquo;t intersect with the queried AABB. Therefore, an AABB collision query begins at the root and recursively traverses the tree, examining only the AABB nodes that intersect with the queried AABB. The tree can be balanced through <a class=link href=https://en.wikipedia.org/wiki/Tree_rotation target=_blank rel=noopener>tree rotations</a>, similar to an <a class=link href=https://en.wikipedia.org/wiki/AVL_tree target=_blank rel=noopener>AVL tree</a>.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png" media="(min-width: 1920.1px)"><img alt=Dbvt src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127142%2Ftoptal-blog-image-1536860534386-198aefdfb67ea0005a494dfaaed0dba7.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Box2D features a sophisticated Dbvt implementation in its <a class=link href=https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2DynamicTree.h target=_blank rel=noopener><code>b2DynamicTree</code></a> <a class=link href=https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2DynamicTree.cpp target=_blank rel=noopener>class</a>. The <a class=link href=https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2BroadPhase.h target=_blank rel=noopener><code>b2BroadPhase</code></a> <a class=link href=https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2BroadPhase.cpp target=_blank rel=noopener>class</a> handles the broad phase, utilizing a <code>b2DynamicTree</code> instance to execute AABB queries.</p><h2 id=narrow-phase>Narrow Phase</h2><p>Following the broad phase, we obtain a set of rigid body pairs that are <em>potentially</em> colliding. In the narrow phase, for each pair, we need to determine if they are actually colliding based on their shape, position, and orientation. This involves checking for intersection or if their distance falls below a predefined tolerance. Additionally, we need to identify the contact points between colliding bodies, which are essential for subsequent collision resolution.</p><h3 id=convex-and-concave-shapes>Convex and Concave Shapes</h3><p>Determining if two arbitrary shapes intersect or calculating the distance between them is generally not straightforward in video game physics. However, one crucial factor influencing the difficulty is the shape&rsquo;s <strong>convexity</strong>. Shapes can be either <a class=link href=https://en.wikipedia.org/wiki/Convex_set target=_blank rel=noopener><strong>convex</strong></a> or <a class=link href=https://en.wikipedia.org/wiki/Convex_set#Non-convex_set target=_blank rel=noopener><strong>concave</strong></a>, with concave shapes presenting greater challenges, necessitating specific strategies.</p><p>In a convex shape, any line segment connecting two points within the shape lies entirely within the shape. However, this doesn&rsquo;t hold true for all possible line segments in a concave shape. If at least one line segment connecting points within the shape falls outside the shape, it&rsquo;s classified as concave.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png" media="(min-width: 1920.1px)"><img alt=ConvexConcave src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127143%2Ftoptal-blog-image-1536860551476-0f899fb06aeb11238dcba6b0df3ce989.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Computationally, it&rsquo;s advantageous to have all shapes in a simulation represented as convex. This is because numerous powerful distance and intersection test algorithms are designed for convex shapes. However, not all objects are inherently convex, and we typically address this using two approaches: convex hull and convex decomposition.</p><p>The <a class=link href=https://en.wikipedia.org/wiki/Convex_hull target=_blank rel=noopener><strong>convex hull</strong></a> of a shape represents the smallest convex shape that fully encloses it. For a concave polygon in two dimensions, imagine placing a nail at each vertex and stretching a rubber band around all the nails. To compute the convex hull of a polygon, polyhedron, or a set of points, the <a class=link href=https://en.wikipedia.org/wiki/QuickHull target=_blank rel=noopener><strong>quickhull</strong></a> algorithm is a suitable choice, boasting an average time complexity of <em>O</em>(<em>n</em> log <em>n</em>).</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png" media="(min-width: 1920.1px)"><img alt=ConvexHull src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127144%2Ftoptal-blog-image-1536860566631-8f1faadefd9b802f146625298b70b466.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Representing a concave object with its convex hull results in the loss of its concave characteristics. This can lead to undesirable behavior like “ghost” collisions, as the object&rsquo;s graphical representation remains concave. For instance, a car, typically concave, represented by its convex hull might exhibit a floating box if a box is placed on top of it.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png" media="(min-width: 1920.1px)"><img alt=CarConvexHull src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127145%2Ftoptal-blog-image-1536860589909-84fd3428028ba14bba92db6d932a628d.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Often, convex hulls suffice for representing concave objects, either because the unrealistic collisions are imperceptible or the concave properties are inconsequential to the simulation. However, in certain scenarios, we might require the concave object to behave as such physically. For example, using a convex hull to represent a bowl wouldn&rsquo;t allow us to place anything inside it; objects would simply hover above. In such cases, we can utilize a <strong>convex decomposition</strong> of the concave shape.</p><p>Convex decomposition algorithms take a concave shape and generate a set of convex shapes whose union replicates the original concave shape. Representing some concave shapes might require a large number of convex shapes, potentially leading to significant computational overhead. However, an approximation often suffices, and algorithms like <a class=link href=https://code.google.com/p/v-hacd/ target=_blank rel=noopener><strong>V-HACD</strong></a> can generate a small set of convex polyhedrons from a concave polyhedron.</p><p>In many collision physics scenarios, artists can manually perform convex decomposition, eliminating the performance cost of decomposition algorithms. Given the criticality of performance in real-time simulations, employing simplified physical representations for complex graphic objects is generally advisable. The following image illustrates a possible convex decomposition of a 2D car using nine convex shapes.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png" media="(min-width: 1920.1px)"><img alt=ConvexDecomposition src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127146%2Ftoptal-blog-image-1536860602166-d403e30a946b67340e64ee4a6d5a8f7e.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><h3 id=testing-for-intersections---the-separating-axis-theorem>Testing for Intersections - The Separating Axis Theorem</h3><p>The <a class=link href=https://en.wikipedia.org/wiki/Hyperplane_separation_theorem target=_blank rel=noopener><strong>separating axis theorem</strong></a> (SAT) posits that two convex shapes don&rsquo;t intersect if and only if there exists at least one axis along which their orthogonal projections don&rsquo;t overlap.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png" media="(min-width: 1920.1px)"><img alt=SeparatingAxis src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127147%2Ftoptal-blog-image-1536860613495-13db59dee73e533d6a726abc68659abe.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Visualizing a separating line in 2D or a plane in 3D that separates the two shapes is often more intuitive, representing the same principle. A vector orthogonal to the line in 2D, or the normal vector of the plane in 3D, serves as the &ldquo;separating axis&rdquo;.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png" media="(min-width: 1920.1px)"><img alt=SeparatingLines src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127148%2Ftoptal-blog-image-1536860656932-fe68daea5cdbd4fb4351222c3625d4b1.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Game physics engines handle various shape classes, including circles (spheres in 3D), edges (line segments), and convex polygons (polyhedrons in 3D), employing specific collision detection algorithms for each shape pair. The simplest is likely the circle-circle algorithm:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>centerX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>centerY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>radius</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=n>Circle</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=nf>CollideCircles</span><span class=p>(</span><span class=n>Circle</span> <span class=o>*</span><span class=n>cA</span><span class=p>,</span> <span class=n>Circle</span> <span class=o>*</span><span class=n>cB</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x</span> <span class=o>=</span> <span class=n>cA</span><span class=o>-&gt;</span><span class=n>centerX</span> <span class=o>-</span> <span class=n>cB</span><span class=o>-&gt;</span><span class=n>centerX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>y</span> <span class=o>=</span> <span class=n>cA</span><span class=o>-&gt;</span><span class=n>centerY</span> <span class=o>-</span> <span class=n>cB</span><span class=o>-&gt;</span><span class=n>centerY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>centerDistanceSq</span> <span class=o>=</span> <span class=n>x</span> <span class=o>*</span> <span class=n>x</span> <span class=o>+</span> <span class=n>y</span> <span class=o>*</span> <span class=n>y</span><span class=p>;</span> <span class=c1>// squared distance
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>float</span> <span class=n>radius</span> <span class=o>=</span> <span class=n>cA</span><span class=o>-&gt;</span><span class=n>radius</span> <span class=o>+</span> <span class=n>cB</span><span class=o>-&gt;</span><span class=n>radius</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>radiusSq</span> <span class=o>=</span> <span class=n>radius</span> <span class=o>*</span> <span class=n>radius</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>centerDistanceSq</span> <span class=o>&lt;=</span> <span class=n>radiusSq</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>While SAT applies to circles, checking if the distance between their centers is less than the sum of their radii is much simpler. Consequently, SAT is employed in collision detection algorithms for specific shape class pairs, such as convex polygon against convex polygon (or polyhedrons in 3D).</p><p>For any shape pair, infinitely many axes could be tested for separation. Efficient SAT implementation hinges on determining the first test axis. When testing convex polygon intersection, we can utilize edge normals as potential separating axes. The normal vector <strong><em>n</em></strong> of an edge is perpendicular to the edge vector, pointing outward from the polygon. For each edge of each polygon, we simply need to check if all vertices of the other polygon lie <em>in front</em> of the edge.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png" media="(min-width: 1920.1px)"><img alt=ConvexPolygonSAT src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127149%2Ftoptal-blog-image-1536860671192-d9da2ea955d5ab81c8ee6887738b0a00.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>If any test passes – that is, if for any edge, all vertices of the other polygon are <em>in front</em> of it – then the polygons don&rsquo;t intersect. Linear algebra provides a straightforward formula for this test: given an edge on the first shape with vertices <em><strong>a</strong></em> and <em><strong>b</strong></em> and a vertex <em><strong>v</strong></em> on the other shape, if (<em><strong>v</strong></em> - <em><strong>a</strong></em>) · <em><strong>n</strong></em> is positive, the vertex lies in front of the edge.</p><p>For polyhedrons, we can utilize face normals and the cross product of all edge combinations from each shape. While this seems like numerous tests, we can optimize by caching the last separating axis used and attempting to reuse it in subsequent simulation steps. If the cached separating axis no longer separates the shapes, we can search for a new axis starting from faces or edges adjacent to the previous ones. This approach leverages the observation that bodies often exhibit limited movement or rotation between steps.</p><p>Box2D utilizes SAT to determine convex polygon intersection in its polygon-polygon collision detection algorithm, implemented in <a class=link href="https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2CollidePolygon.cpp?r=313" target=_blank rel=noopener>b2CollidePolygon.cpp</a>.</p><h3 id=computing-distance---the-gilbert-johnson-keerthi-algorithm>Computing Distance - The Gilbert-Johnson-Keerthi Algorithm</h3><p>Often, we want to consider objects as colliding not only upon intersection but also when they are very close, requiring distance computation. The <a class=link href=https://en.wikipedia.org/wiki/Gilbert%E2%80%93Johnson%E2%80%93Keerthi_distance_algorithm target=_blank rel=noopener><strong>Gilbert-Johnson-Keerthi</strong></a> (GJK) algorithm calculates the distance between two convex shapes and identifies their closest points. It&rsquo;s an elegant algorithm leveraging an implicit representation of convex shapes through support functions, Minkowski sums, and simplexes.</p><p><strong>Support Functions</strong></p><p>A <a class=link href=https://en.wikipedia.org/wiki/Support_%5c%28mathematics%5c%29 target=_blank rel=noopener><strong>support function</strong></a> <em>s_A(</em><strong>d</strong>_) returns a point on shape A&rsquo;s boundary with the highest projection onto vector <em><strong>d</strong></em>, mathematically represented by the highest dot product with <em><strong>d</strong></em>. This point is called a <strong>support point</strong>, and the operation is known as <strong>support mapping</strong>. Geometrically, it represents the farthest point on the shape in <em><strong>d</strong></em>&rsquo;s direction.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png" media="(min-width: 1920.1px)"><img alt=SupportMapping src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127150%2Ftoptal-blog-image-1536860699150-d7788b26c12f13caadba14a8db6828f1.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Finding a polygon&rsquo;s support point is relatively straightforward. For a support point for vector <em><strong>d</strong></em>, we iterate through its vertices and identify the one with the highest dot product with <em><strong>d</strong></em>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>Vector2</span> <span class=nf>GetSupport</span><span class=p>(</span><span class=n>Vector2</span> <span class=o>*</span><span class=n>vertices</span><span class=p>,</span> <span class=kt>int</span> <span class=n>count</span><span class=p>,</span> <span class=n>Vector2</span> <span class=n>d</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>highest</span> <span class=o>=</span> <span class=o>-</span><span class=n>FLT_MAX</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Vector2</span> <span class=n>support</span> <span class=o>=</span> <span class=p>(</span><span class=n>Vector2</span><span class=p>){</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>count</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Vector2</span> <span class=n>v</span> <span class=o>=</span> <span class=n>vertices</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>dot</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>x</span> <span class=o>*</span> <span class=n>d</span><span class=p>.</span><span class=n>x</span> <span class=o>+</span> <span class=n>v</span><span class=p>.</span><span class=n>y</span> <span class=o>*</span> <span class=n>d</span><span class=p>.</span><span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>dot</span> <span class=o>&gt;</span> <span class=n>highest</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>highest</span> <span class=o>=</span> <span class=n>dot</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>support</span> <span class=o>=</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>support</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The power of support functions lies in simplifying operations with shapes like cones, cylinders, and ellipses. Directly computing the distance between such shapes is complex, and without GJK, we&rsquo;d typically resort to discretizing them into polygons or polyhedrons, which can introduce other issues. Polyhedron surfaces lack the smoothness of surfaces like spheres unless highly detailed, potentially impacting collision detection performance. Additionally, undesirable side effects might arise; for instance, a &ldquo;polyhedral&rdquo; sphere might not roll smoothly.</p><p>To obtain a support point for a sphere centered at the origin, we normalize <em><strong>d</strong></em> (compute <em><strong>d</strong></em> / ||<em><strong>d</strong></em>||, a unit vector in <em><strong>d</strong></em>&rsquo;s direction) and multiply it by the sphere&rsquo;s radius.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png" media="(min-width: 1920.1px)"><img alt=SphereSupportPoint src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127151%2Ftoptal-blog-image-1536860715858-61915950c6eefcf26d4ff4bc6bbe9733.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Refer to <a class=link href=http://www.dtecta.com/papers/jgt98convex.pdf target=_blank rel=noopener>Gino van den Bergen’s paper</a> for more examples of support functions for various shapes, including cylinders and cones.</p><p>In our simulation space, objects are displaced and rotated from the origin. We employ an <a class=link href=https://en.wikipedia.org/wiki/Affine_transformation target=_blank rel=noopener><strong>affine transformation</strong></a> <em>T</em>(<em><strong>x</strong></em>) = <strong>R</strong><em><strong>x</strong></em> + <em><strong>c</strong></em> for this purpose, where <em><strong>c</strong></em> represents the displacement vector and <strong>R</strong> is the <a class=link href=https://en.wikipedia.org/wiki/Rotation_matrix target=_blank rel=noopener><strong>rotation matrix</strong></a>. This transformation first rotates the object about the origin and then translates it. The support function for a transformed shape A is:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png" media="(min-width: 1920.1px)"><img alt=TransformedSupportMapping src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F913%2Ftoptal-blog-image-1425291823757.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p><strong>Minkowski Sums</strong></p><p>The <a class=link href=https://en.wikipedia.org/wiki/Minkowski_sum target=_blank rel=noopener><strong>Minkowski sum</strong></a> of two shapes, A and B, is defined as:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png" media="(min-width: 1920.1px)"><img alt=MinkowskiSum src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F912%2Ftoptal-blog-image-1425291808625.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>This involves computing the sum for all points within A and B. The result resembles <em>inflating</em> A with B.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png" media="(min-width: 1920.1px)"><img alt=MinkowskiSumExample.png src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127152%2Ftoptal-blog-image-1536860776072-f443c2b49ac11059753a66b28b4b763e.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Similarly, the <strong>Minkowski difference</strong> is defined as:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png" media="(min-width: 1920.1px)"><img alt=MinkowskiDifference src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F910%2Ftoptal-blog-image-1425291791138.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>which can also be expressed as the Minkowski sum of A and -B:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png" media="(min-width: 1920.1px)"><img alt=MinkowskiDifferenceSum src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F909%2Ftoptal-blog-image-1425291770651.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png" media="(min-width: 1920.1px)"><img alt=MinkowskiDifferenceExample src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127153%2Ftoptal-blog-image-1536860799494-c248e63a1a24a860e28e97aaed6f9fe5.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>For convex shapes A and B, their Minkowski sum A⊕B is also convex.</p><p>A key property of the Minkowski difference is that if it contains the origin, the shapes intersect. This is because intersecting shapes share at least one point with the same spatial location, resulting in a zero vector difference, which corresponds to the origin.</p><p>Another useful characteristic is that if the Minkowski difference doesn&rsquo;t contain the origin, the minimum distance between the origin and the Minkowski difference represents the distance between the shapes.</p><p>The distance between two shapes is defined as:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png" media="(min-width: 1920.1px)"><img alt=Distance src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F907%2Ftoptal-blog-image-1425291750628.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>In other words, it&rsquo;s the length of the shortest vector connecting A and B. This vector lies within A⊖B and is the shortest, hence closest to the origin.</p><p>Explicitly constructing the Minkowski sum of two shapes is generally not straightforward. Fortunately, we can again leverage support mapping:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png" media="(min-width: 1920.1px)"><img alt=MinkowskiDifferenceSupport src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F906%2Ftoptal-blog-image-1425291741891.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p><strong>Simplexes</strong></p><p>The GJK algorithm iteratively searches for the point on the Minkowski difference closest to the origin. It achieves this by constructing a series of <a class=link href=https://en.wikipedia.org/wiki/Simplex target=_blank rel=noopener><strong>simplexes</strong></a> that progressively approach the origin with each iteration. A simplex – more specifically, a <strong>k-simplex</strong> for an integer k – is the convex hull of k + 1 <a class=link href=https://en.wikipedia.org/wiki/Affine_space#Affine_combinations_and_affine_dependence target=_blank rel=noopener><strong>affinely independent</strong></a> points in a k-dimensional space. This implies that two points must be distinct, three points must not be collinear, and four points must not be coplanar. Consequently, a 0-simplex is a point, a 1-simplex is a line segment, a 2-simplex is a triangle, and a 3-simplex is a tetrahedron. Removing a point from a simplex reduces its dimensionality by one, while adding a point increases it by one.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png" media="(min-width: 1920.1px)"><img alt=Simplices src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127154%2Ftoptal-blog-image-1536860827186-ead343413ddb7c866a2dff19d516558a.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p><strong>GJK in Action</strong></p><p>Let&rsquo;s combine these concepts to understand GJK&rsquo;s workings. To determine the distance between shapes A and B, we begin by considering their Minkowski difference, A⊖B. Our goal is to find the point on this resulting shape closest to the origin, as its distance represents the distance between the original shapes. We choose an arbitrary point <em><strong>v</strong></em> within A⊖B as our initial distance approximation and define an empty point set W to store the points of the current test simplex.</p><p>We then enter a loop. First, we obtain the support point <em><strong>w</strong></em> = sA⊖B(-<em><strong>v</strong></em>), the point on A⊖B whose projection onto <em><strong>v</strong></em> is closest to the origin.</p><p>If ||<em><strong>w</strong></em>|| is very close to ||<em><strong>v</strong></em>|| and the angle between them hasn&rsquo;t changed significantly (based on predefined tolerances), the algorithm has converged. We can then return ||<em><strong>v</strong></em>|| as the distance.</p><p>Otherwise, we add <em><strong>w</strong></em> to W. If the convex hull of W (the simplex) contains the origin, the shapes intersect, and we&rsquo;re done. If not, we find the point within the simplex closest to the origin and update <em><strong>v</strong></em> to this new closest approximation. We then remove any points from W that don&rsquo;t contribute to the closest point computation (e.g., if the closest point to the origin lies on an edge of a triangle, we remove the vertex not belonging to that edge). These steps repeat until convergence.</p><p>The following image illustrates four iterations of the GJK algorithm. The blue object represents the Minkowski difference A⊖B, and the green vector is <em><strong>v</strong></em>. Observe how <em><strong>v</strong></em> progressively approaches the point closest to the origin.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png" media="(min-width: 1920.1px)"><img alt=GJK src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127155%2Ftoptal-blog-image-1536860853304-60714ca4b890b81ee725ad5349c2a379.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>For an in-depth explanation of the GJK algorithm, refer to the paper <a class=link href=http://www.dtecta.com/papers/jgt98convex.pdf target=_blank rel=noopener><em>A Fast and Robust GJK Implementation for Collision Detection of Convex Objects</em></a> by Gino van den Bergen. The blog for the <a class=link href=http://www.dyn4j.org/ target=_blank rel=noopener>dyn4j</a> physics engine also provides a <a class=link href=http://www.dyn4j.org/2010/04/gjk-gilbert-johnson-keerthi/ target=_blank rel=noopener>great post on GJK</a>.</p><p>Box2D implements the GJK algorithm in <a class=link href=https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2Distance.cpp target=_blank rel=noopener>b2Distance.cpp</a> within the <a class=link href=https://code.google.com/p/box2d/source/browse/trunk/Box2D/Box2D/Collision/b2Distance.cpp#444 target=_blank rel=noopener><code>b2Distance</code></a> function. However, it utilizes GJK only during time of impact computation for continuous collision detection, a topic we&rsquo;ll revisit later.</p><p>The Chimpunk physics engine relies on GJK for all collision detection. Its implementation is found in <a class=link href=https://github.com/slembcke/Chipmunk2D/blob/master/src/cpCollision.c target=_blank rel=noopener>cpCollision.c</a> within the <a class=link href=https://github.com/slembcke/Chipmunk2D/blob/master/src/cpCollision.c#L420 target=_blank rel=noopener><code>GJK</code></a> function. Upon detecting an intersection using GJK, it requires the contact points and penetration depth, which it obtains using the Expanding Polytope Algorithm, discussed next.</p><h3 id=determining-penetration-depth---the-expanding-polytope-algorithm>Determining Penetration Depth - The Expanding Polytope Algorithm</h3><p>As previously mentioned, if shapes A and B intersect, GJK produces a simplex W containing the origin within the Minkowski difference A⊖B. This indicates intersection, but many collision detection systems benefit from knowing the intersection extent and the contact points for realistic collision handling. The <strong>Expanding Polytope Algorithm</strong> (EPA) provides this information, building upon GJK&rsquo;s output: a simplex containing the origin.</p><p>The <strong>penetration depth</strong> represents the length of the <strong>minimum translation vector</strong> (MTV), the smallest vector along which we can translate one intersecting shape to separate it from the other.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png" media="(min-width: 1920.1px)"><img alt=MinimumTranslatioVector src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127156%2Ftoptal-blog-image-1536860871079-74de9404e2029dcb399566d674d8b842.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>When two shapes intersect, their Minkowski difference contains the origin. The point on the Minkowski difference&rsquo;s boundary closest to the origin represents the MTV. The EPA algorithm identifies this point by expanding GJK&rsquo;s simplex into a polygon, iteratively subdividing its edges with new vertices.</p><p>First, we locate the simplex edge closest to the origin and compute the support point in the Minkowski difference along a direction normal to this edge (perpendicular and outward-pointing). We then split this edge by incorporating the support point. These steps repeat until the vector&rsquo;s length and direction stabilize. Upon convergence, we obtain the MTV and penetration depth.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png" media="(min-width: 1920.1px)"><img alt=EPA src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127157%2Ftoptal-blog-image-1536860883932-dc01fa14d78b5b9a3fee26bc602dd414.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Combining GJK and EPA provides a comprehensive collision description, whether the objects intersect or are sufficiently close to be considered colliding.</p><p>The EPA algorithm is described in the paper <a class=link href=http://www.dtecta.com/papers/gdc2001depth.pdf target=_blank rel=noopener><em>Proximity Queries and Penetration Depth Computation on 3D Game Objects</em></a>, also authored by Gino van den Bergen. The dyn4j blog offers a <a class=link href=http://www.dyn4j.org/2010/05/epa-expanding-polytope-algorithm/ target=_blank rel=noopener>post about EPA</a> on the topic.</p><h2 id=continuous-collision-detection>Continuous Collision Detection</h2><p>The techniques discussed so far perform collision detection on a static simulation snapshot, known as <strong>discrete collision detection</strong>. This approach disregards events between consecutive steps, potentially missing collisions, especially for fast-moving objects. This issue is referred to as <strong>tunneling</strong>.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png" media="(min-width: 1920.1px)"><img alt=Tunneling src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127158%2Ftoptal-blog-image-1536860905937-23af5e10dc743ca09b13985cb6be01f2.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p><strong>Continuous collision detection</strong> techniques aim to determine <em>when</em> a collision occurred between the previous and current simulation steps. They compute the <strong>time of impact</strong>, allowing us to rewind and process the collision at the precise moment.</p><p>The time of impact (or time of contact) <em>t__c</em> represents the instant when the distance between two bodies becomes zero. Given a function describing the distance between two bodies over time, we seek the smallest <a class=link href=https://en.wikipedia.org/wiki/Zero_of_a_function target=_blank rel=noopener>root</a> of this function. Therefore, time of impact computation is essentially a <a class=link href=https://en.wikipedia.org/wiki/Root-finding_algorithm target=_blank rel=noopener><strong>root-finding problem</strong></a> problem.</p><p>For this computation, we consider the body&rsquo;s state (position and orientation) at the previous step, time <em>t__i</em>-1, and the current step, time <em>t__i</em>. We assume linear motion between these steps for simplification.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png" media="(min-width: 1920.1px)"><img alt=TimeOfContact src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127159%2Ftoptal-blog-image-1536860921325-cd362d65571995ef749ee172e634c71d.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Let&rsquo;s further simplify by considering circular shapes. For circles _C_1 and _C_2 with radii _r_1 and _r_2, where their centers of mass _<strong>x</strong>_1 and _<strong>x</strong>_2 coincide with their centroids, the distance function is:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png" media="(min-width: 1920.1px)"><img alt=CircleDistance src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F899%2Ftoptal-blog-image-1425291666810.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Assuming linear motion, _C_1&rsquo;s position from <em>t__i</em>-1 to <em>t__i</em> is:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png" media="(min-width: 1920.1px)"><img alt=CirclePositionInterval src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F898%2Ftoptal-blog-image-1425291657301.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>This represents a linear interpolation between _<strong>x</strong>_1(<em>t__i</em>-1) and _<strong>x</strong>_1(<em>t__i</em>). The same applies to _<strong>x</strong>_2. Within this interval, the distance function becomes:</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png" media="(min-width: 1920.1px)"><img alt=CircleDistanceInterval src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F897%2Ftoptal-blog-image-1425291643863.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p>Setting this expression to zero yields a <a class=link href=https://en.wikipedia.org/wiki/Quadratic_equation target=_blank rel=noopener>quadratic equation</a> in <em>t</em>. We can directly solve for the roots using the <a class=link href=https://en.wikipedia.org/wiki/Quadratic_formula target=_blank rel=noopener>quadratic formula</a>. If the circles don&rsquo;t intersect, the quadratic formula won&rsquo;t have a solution. Otherwise, it might yield one or two roots. A single root represents the time of impact. With two roots, the smaller one represents the time of impact, while the larger one indicates the time of separation. Note that the time of impact is a value between 0 and 1, representing a fraction of the time step rather than seconds. It&rsquo;s used to interpolate the bodies&rsquo; states to the exact collision point.</p><div data-testid=image-container class="X3Bg-O9c _1xIzGpI7"><figure class=_1sK7TguO><picture class=!contents data-testid=picture><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=360, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=360&amp;dpr=2 2x" media="(max-width: 360px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=480, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=480&amp;dpr=2 2x" media="(min-width: 360.1px) and (max-width: 480px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=768, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=768&amp;dpr=2 2x" media="(min-width: 480.1px) and (max-width: 768px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=1024, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=1024&amp;dpr=2 2x" media="(min-width: 768.1px) and (max-width: 1024px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=1440, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=1440&amp;dpr=2 2x" media="(min-width: 1024.1px) and (max-width: 1440px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=1920, https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png&amp;width=1920&amp;dpr=2 2x" media="(min-width: 1440.1px) and (max-width: 1920px)"><source srcset="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png" media="(min-width: 1920.1px)"><img alt=CirclesTimeOfContact src="https://assets.toptal.io/images?url=https%3A%2F%2Fuploads.toptal.io%2Fblog%2Fimage%2F127160%2Ftoptal-blog-image-1536860966112-233ccecdd60ced4cfd80cf9c9746df7d.png" loading=lazy decoding=async class=Djd3YO_2></picture></figure></div><p><strong>Continuous Collision Detection for Non-Circles</strong></p><p>Formulating distance functions for other shapes is challenging because their distance depends on orientation. Consequently, we often rely on iterative algorithms that progressively move the objects closer until they are sufficiently close to be considered colliding.</p><p>The <strong>conservative advancement</strong> algorithm iteratively moves and rotates the bodies forward. In each iteration, it calculates an upper bound for displacement. The original algorithm, presented in <a class=link href=http://www.kuffner.org/james/software/dynamics/mirtich/index.html target=_blank rel=noopener>Brian Mirtich’s PhD Thesis</a> (section 2.3.2), accounts for ballistic motion. <a class=link href=http://gamedevs.org/uploads/continuous-collision-detection-and-physics.pdf target=_blank rel=noopener>This paper</a> by Erwin Coumans (creator of the Bullet Physics Engine) presents a simpler version using constant linear and angular velocities.</p><p>This algorithm determines the closest points between shapes A and B, constructs a vector connecting them, and projects the velocity onto this vector to determine an upper bound for motion. This ensures that no point on either body moves beyond this projection. The bodies are then advanced by this amount, and the process repeats until the distance falls below a small threshold.</p><p>Convergence might require many iterations, especially when one body has high angular velocity.</p><h2 id=resolving-collisions>Resolving Collisions</h2><p>Upon collision detection, we need to realistically modify the colliding objects&rsquo; motions, such as making them bounce off each other. The next and final installment in this series will explore common collision resolution methods employed in video games.</p><h2 id=references>References</h2><p>For a deeper dive into collision physics, including algorithms and techniques, <a class=link href=http://realtimecollisiondetection.net/ target=_blank rel=noopener><em>Real-Time Collision Detection</em></a> by Christer Ericson is an invaluable resource.</p><p>Given the reliance of collision detection on geometry, Toptal&rsquo;s article, <em>Computational Geometry in Python: From Theory to Application</em>, serves as an excellent introduction.</p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3987358164777632" crossorigin=anonymous></script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-5X67X4Q4")</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5X67X4Q4" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>