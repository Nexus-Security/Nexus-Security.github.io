<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades. O Cross Site Scripting (XSS) é uma das falhas de segurança de aplicativos da Web mais comuns, mas possivelmente a mais negligenciada. Ele ocupa a segunda posição no Top 10 dos 10 riscos de segurança de aplicativos da Web da OWASP para 2010.
O script entre sites é um tipo de problema de injeção no qual scripts maliciosos (vb, js etc."><title>Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades.</title><link rel=canonical href=https://Nexus-Security.github.io/posts/2016-09-09-atualmente-os-aplicativos-web-sofrem-de_2/><link rel=stylesheet href=/scss/style.min.450926226e724574a6b936335ea06111f8aeb253d932c86cb2cc807341cd2889.css><meta property="og:title" content="Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades."><meta property="og:description" content="Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades. O Cross Site Scripting (XSS) é uma das falhas de segurança de aplicativos da Web mais comuns, mas possivelmente a mais negligenciada. Ele ocupa a segunda posição no Top 10 dos 10 riscos de segurança de aplicativos da Web da OWASP para 2010.
O script entre sites é um tipo de problema de injeção no qual scripts maliciosos (vb, js etc."><meta property="og:url" content="https://Nexus-Security.github.io/posts/2016-09-09-atualmente-os-aplicativos-web-sofrem-de_2/"><meta property="og:site_name" content="ZYChimne"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:published_time" content="2019-10-02T12:39:00+01:00"><meta property="article:modified_time" content="2019-10-02T12:39:00+01:00"><meta name=twitter:title content="Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades."><meta name=twitter:description content="Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades. O Cross Site Scripting (XSS) é uma das falhas de segurança de aplicativos da Web mais comuns, mas possivelmente a mais negligenciada. Ele ocupa a segunda posição no Top 10 dos 10 riscos de segurança de aplicativos da Web da OWASP para 2010.
O script entre sites é um tipo de problema de injeção no qual scripts maliciosos (vb, js etc."></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hue825486955cd7c56d95e38b4bd2a8e3c_229979_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>ZYChimne</a></h1><h2 class=site-description>Computer Science, Wuhan University</h2></div></header><ol class=social-menu><li><a href=https://github.com/ZYChimne target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/ZChimne target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about-me/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About Me</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/posts/2016-09-09-atualmente-os-aplicativos-web-sofrem-de_2/>Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades.</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Oct 02, 2019</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>11 minute read</time></div></footer></div></header><section class=article-content><p>Atualmente, os aplicativos Web sofrem de uma variedade de vulnerabilidades. O Cross Site Scripting (XSS) é uma das falhas de segurança de aplicativos da Web mais comuns, mas possivelmente a mais negligenciada. Ele ocupa a segunda posição no Top 10 dos 10 riscos de segurança de aplicativos da Web da OWASP para 2010.</p><p>O script entre sites é um tipo de problema de injeção no qual scripts maliciosos (vb, js etc.) são injetados em um site confiável. As falhas do XSS ocorrem sempre que um aplicativo obtém dados não confiáveis ​​(geralmente fornecidos pelo usuário) e os envia inválidos ou não codificados para um navegador da web. O XSS permite que os invasores executem scripts no navegador da vítima e o script mal-intencionado pode acessar cookies, tokens de sessão ou outras informações confidenciais retidas pelo navegador. Utilizados com esse site, eles podem até reescrever o conteúdo da página HTML. Basicamente, explora a confiança que um navegador cliente tem no site. No XSS, o usuário confia que o conteúdo exibido no navegador foi destinado ao site.<a class=link href=http://en.wikipedia.org/wiki/Orkut title=Orkut target=_blank rel=noopener>Orkut</a> .</p><p>Um exemplo de uma página vulnerável ao XSS:</p><p>O seguinte segmento de código no JSP (Java Server Pages) lê um ID do funcionário: empid, de uma solicitação HTTP e a exibe.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>&lt;% String empid = request.getParameter(&#34;empid&#34;); %&gt;  
</span></span><span class=line><span class=cl>...  
</span></span><span class=line><span class=cl>...  
</span></span><span class=line><span class=cl>Employee ID:  
</span></span></code></pre></td></tr></table></div></div><p>O código acima funcionará corretamente se o empid contiver apenas texto alfanumérico padrão, mas se o empid tiver um valor que inclua script (js, vb etc.) ou meta-caracteres, o código (talvez malicioso) será executado pelo navegador da web.</p><p>Tipos de XSS:</p><p>Existem basicamente três tipos de falhas de XSS: refletidas, armazenadas e baseadas em DOM.</p><p>Refletido ou não persistente:</p><p>O script entre sites refletido é o tipo mais comum de falha do XSS encontrada nos aplicativos da web atualmente. Nesse tipo de falha, o código injetado é refletido no servidor da Web, como em um resultado de pesquisa, em uma mensagem de erro ou em qualquer outra resposta que inclua entrada completa ou parcial enviada ao servidor como parte da solicitação.</p><p>O atacante precisa entregar o ataque às vítimas por outra rota, como em uma mensagem de email ou em outro servidor da web. O invasor envia o link malicioso para a vítima e, quando a vítima é enganada a clicar em um link malicioso ou enviar um formulário especialmente criado (por meio da Engenharia Social etc.), o código injetado viaja para o servidor do aplicativo Web vulnerável, o que reflete o ataque de volta ao navegador da vítima. O navegador, em seguida, executa o código malicioso, que veio de um servidor &ldquo;confiável&rdquo;.</p><p>Armazenado ou Persistente:</p><p>A vulnerabilidade XSS armazenada é uma variante mais devastadora de uma falha de script entre sites. No tipo de falha Armazenada, o invasor pode injetar código malicioso no aplicativo vulnerável e o código injetado é armazenado permanentemente nos servidores de destino (em um banco de dados, campo de comentário, log de visitante etc.) e, em seguida, exibido permanentemente nas páginas &ldquo;normais&rdquo; retornadas para outros usuários durante a navegação regular. O XSS persistente é bastante significativo quando comparado a outros tipos, pois o script malicioso de um invasor é renderizado automaticamente, sem a necessidade de segmentar individualmente as vítimas ou atraí-las para um site de terceiros. Essa é uma falha perigosa, pois qualquer dado recebido pelo aplicativo da Web vulnerável (via email, logs do sistema etc.) que pode ser controlado por um invasor pode se tornar um vetor de injeção. Um exemplo clássico seria um invasor deixando um script mal-intencionado no campo de comentários do blog de um aplicativo da web vulnerável para blogs. O script malicioso será executado nos navegadores dos usuários que visitarão o blog posteriormente.</p><p>Baseado em DOM:</p><p>DOM é uma especificação do World Wide Web Consortium (W3C), que define o modelo de objeto para representar estruturas XML e HTML. XSS baseado em DOM ou XSS tipo 0 é uma falha XSS em que a carga útil do ataque é executada como resultado da modificação do &ldquo;ambiente&rdquo; DOM ​​no navegador da vítima usado pelo script original do lado do cliente, para que o código do lado do cliente seja executado de uma maneira &ldquo;inesperada&rdquo;. O XSS baseado em DOM não é resultado de vulnerabilidade em um script do lado do servidor, mas um tratamento inadequado dos dados fornecidos pelo usuário no JavaScript do lado do cliente. Como os outros tipos de vulnerabilidades XSS, o XSS baseado em DOM pode ser usado para roubar informações confidenciais ou invadir a conta do usuário. No entanto, é essencial entender que esse tipo de vulnerabilidade depende apenas do JavaScript e do uso inseguro de dados obtidos dinamicamente da estrutura do DOM.</p><p><a class=link href=https://www.blogger.com/null target=_blank rel=noopener></a>Cenários de ataque</p><p>Alguns dos cenários de ataque de amostra são os seguintes<a class=link href=https://www.blogger.com/null target=_blank rel=noopener></a>:</p><p>Script através de um link malicioso</p><p>Nesse cenário, o invasor envia uma mensagem de email criada para uma vítima que contém um link (contendo script malicioso) como o mostrado aqui:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> [malicious code here&gt;Click here](http://VulnerableSite.com/registration.php?clprofile=&lt;script)  
</span></span></code></pre></td></tr></table></div></div><p>Quando um usuário inocente clica nesse link, o URL é enviado para o VulnerableSite.com, incluindo o código malicioso. Como o servidor legítimo envia uma página de volta ao usuário, incluindo o valor de clprofile (perfil do cliente), o código malicioso será executado no navegador da web do cliente. A Figura 1 mostra a ilustração do ataque.</p><p><img src=https://mk0resourcesinfm536w.kinstacdn.com/wp-content/uploads/011012_1356_CrossSiteSc1.jpg loading=lazy></p><p>Figura 1. Ataque via e-mail</p><p>Seqüestro de sessão (roubo de cookie)</p><p>Muitos sites usam autenticação de usuário baseada em cookies e dependem apenas de cookies de sessão para autenticação entre solicitações HTTP individuais e, como os scripts do lado do cliente geralmente têm acesso a esses cookies, explorações simples de XSS podem roubar esses cookies. Nesse cenário, o invasor pode enviar um link malicioso ou armazenar um script malicioso em uma página (XSS armazenada) do site vulnerável. Quando a página maliciosa é exibida, o script malicioso é executado, coleta os cookies do usuário e envia uma solicitação ao site do invasor com os cookies coletados. Usando essa técnica, o invasor pode invadir a sessão do usuário e obter informações confidenciais, como mostra a Figura 2 .</p><p><img src=https://mk0resourcesinfm536w.kinstacdn.com/wp-content/uploads/011012_1356_CrossSiteSc2.jpg loading=lazy></p><p>Figura 2. Roubo de cookie e seqüestro de sessão</p><p>Como detectar se um site é vulnerável?</p><p>As falhas de script entre sites podem ser difíceis de identificar e remover de um aplicativo Web. A melhor prática para procurar falhas é realizar uma intensa revisão de código e procurar todos os locais em que a entrada do usuário por meio de uma solicitação HTTP possa entrar na saída HTML. Uma variedade de tags HTML diferentes (como , , etc.) pode ser usada para transmitir um JavaScript malicioso. As ferramentas do WebScanner como Burp Suite, WebInspect, Acunetix, Netsparker, Websecurify, NStalker etc. podem ser usadas para procurar essas vulnerabilidades da Web, mas, juntamente com o teste manual, como a maioria das ferramentas, apenas testam usando scripts comuns e ignoram diferentes codificações e ignoram técnicas ( descrito por RSnake: <a class=link href=http://ha.ckers.org/xss.html target=_blank rel=noopener>http://ha.ckers.org/xss.html</a> ).</p><p>Como é diferente do CSRF (falsificação de solicitação entre sites)</p><p>Muitas vezes, as pessoas confundem entre XSS e CSRF. Ambas as vulnerabilidades requerem métodos diferentes de exploração e proteção de aplicativos da web. A falsificação de solicitação entre sites ou a condução de sessões é um tipo de ataque que força o usuário final a executar ações maliciosas indesejadas sem o conhecimento ou a intenção do aplicativo Web no qual eles estão atualmente autenticados. O script entre sites é a capacidade de fazer um site exibir o conteúdo fornecido pelo usuário incorporado ao HTML / JavaScript. O CSRF explora a confiança que um site possui no navegador do usuário, diferente do XSS, que tira proveito da confiança que um navegador cliente possui no site. No CSRF, o site confia que a solicitação proveniente do navegador do usuário é pretendida por ele, enquanto no XSS o usuário confia que o conteúdo exibido no navegador foi destinado ao site.</p><p>Um exemplo de ataque de CSRF:</p><p>Um usuário, Bob está navegando em um fórum, onde outro usuário, Max postou uma mensagem. Esta mensagem é um link malicioso criado por Max, contendo um elemento de imagem HTML e refere uma ação no site do banco de Bob.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>![](http://Bobbank.com/withdraw?acc_name=bob&amp;amount=1000&amp;to=max)  
</span></span></code></pre></td></tr></table></div></div><p>Observe aqui que não há um arquivo de imagem real, mas se o cookie de autenticação de Bob (para o site do banco) não tiver expirado, então, quando o navegador de Bob tentar carregar a imagem, ele enviará automaticamente o formulário de retirada (junto com o cookie de Bob), assim, uma transação não intencional da conta de Bob ocorrerá.</p><h2 id=atenuando-a-falha>Atenuando a falha</h2><p>As técnicas a seguir podem ser usadas para proteger contra esta vulnerabilidade</p><h2 id=usuário-final-um-usuário-pode-tomar-a-seguinte-medida-para-se-proteger-do-xss>Usuário final: um usuário pode tomar a seguinte medida para se proteger do XSS</h2><h2 id=desativando-scripts>Desativando scripts</h2><p>Embora os designers da Web 2.0 e do Ajax sejam a favor do uso de JavaScript, alguns aplicativos da Web são gravados para (opcionalmente) operar completamente sem a necessidade de scripts do lado do cliente. Isso permite que os usuários desabilitem o script em seus navegadores antes de usar o aplicativo. Dessa forma, os usuários não seriam suscetíveis a ataques XSS, mesmo que scripts potencialmente maliciosos do lado do cliente sejam inseridos sem codificação em uma página.</p><p>Alguns navegadores ou plug-ins de navegadores podem ser configurados para desativar scripts do lado do cliente por domínio. Uma dessas soluções para o Firefox e outros navegadores baseados no Gecko é o complemento <a class=link href=http://en.wikipedia.org/wiki/NoScript title=NoScript target=_blank rel=noopener>NoScript de</a> código aberto que, além de sua capacidade de desativar scripts por domínio, também fornece proteção anti-XSS, mesmo quando os scripts estão ativados, mas também pode diminuir a funcionalidade do site. Essa técnica pode ser usada pelo usuário para sua proteção contra a vulnerabilidade.</p><h2 id=final-do-desenvolvedor-as-seguintes-técnicas-podem-ser-usadas-pelos-desenvolvedores-para-liberar-o-aplicativo-web-do-xss>Final do desenvolvedor: as seguintes técnicas podem ser usadas pelos desenvolvedores para liberar o aplicativo Web do XSS</h2><h2 id=codificação-de-saída>Codificação de saída</h2><p>O principal mecanismo de defesa para interromper o XSS é a codificação ou saída de saída contextual. &ldquo;Escapar&rdquo; é uma técnica usada para garantir que os caracteres sejam tratados como dados, não como caracteres relevantes para o analisador do intérprete. É o principal meio de garantir que dados não confiáveis ​​não possam ser usados ​​para transmitir um ataque de injeção. Não há mal em escapar dos dados corretamente - eles ainda serão renderizados no navegador corretamente. O escape simplesmente permite que o intérprete saiba que os dados não devem ser executados e, portanto, impede que os ataques funcionem. Um código de exemplo no JSP para escape é mostrado abaixo.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>public static String encode(String data)  
</span></span><span class=line><span class=cl>{  
</span></span><span class=line><span class=cl>     final StringBuffer newbuf = new StringBuffer();  
</span></span><span class=line><span class=cl>     final char\[\] chars = data.toCharArray();  
</span></span><span class=line><span class=cl>     for (int i = 0; i &lt; chars.length; i++)  
</span></span><span class=line><span class=cl>{  
</span></span><span class=line><span class=cl>     newbuf.append(&#34;&amp;&#34;).append((int) chars\[i\]);  
</span></span><span class=line><span class=cl>}  
</span></span><span class=line><span class=cl>     return newbuf.toString();  
</span></span><span class=line><span class=cl>}  
</span></span></code></pre></td></tr></table></div></div><p>Quando uma entrada maliciosa no formato de script é inserida através do campo nome de usuário, a página vulnerável exibe um pop-up de alerta, conforme exibido na Figura 3 . Isso pode levar ao seqüestro de sessões, desfiguração do lado do cliente etc.</p><p><img src=https://mk0resourcesinfm536w.kinstacdn.com/wp-content/uploads/011012_1356_CrossSiteSc3.jpg loading=lazy></p><p>Figura 3: O pop-up ocorre para uma entrada semelhante na página vulnerável</p><p>Para uma entrada semelhante na página segura, não há efeito, pois a saída é codificada, como mostra a Figura 4 .</p><p><img src=https://mk0resourcesinfm536w.kinstacdn.com/wp-content/uploads/011012_1356_CrossSiteSc4.jpg loading=lazy></p><p>Figura 4: Nenhum efeito de entrada maliciosa na Página segura</p><h2 id=validando-entrada-não-confiável>Validando entrada não confiável</h2><p>A validação de entrada é simplesmente verificar a validade de cada entrada. Isso pode significar muitas coisas, mas, no caso mais simples, significa verificar o tipo e o comprimento dos dados. Nesse caso, pode significar verificar entradas comuns com script, suas variações e formas codificadas. Se a validação de entrada for feita corretamente em todo o código do site, eliminaremos um grande número de vulnerabilidades, como XSS e SQL Injection, etc. A validação de entrada deve ser realizada em qualquer dado recebido que não seja controlado e confiável. Isso inclui dados fornecidos pelo usuário, dados de terceiros ou outros locais.</p><p>Antes de usar os dados recebidos não confiáveis, siga as etapas a seguir:</p><ul><li>Normalize<br>URL / UTF-7 / Unicode / US-ASCII / etc. decodificar os dados recebidos.</li><li>Verificação do conjunto de caracteres<br>Verifique se os dados contêm apenas caracteres esperados.</li><li>Restrições de comprimento (mínimo / máximo)<br>Verifique se os dados estão dentro de um número mínimo e máximo restrito de bytes.</li><li>Formato dos dados<br>Verifique se a estrutura dos dados é consistente com o que é esperado.</li></ul><p>(Fonte: <a class=link href=http://jeremiahgrossman.blogspot.com/2007/01/input-validation-or-output-filtering.html/ target=_blank rel=noopener>Jeremiah Grossman</a> )</p><p>Implementando WAFs</p><p>Os firewalls têm sido amplamente utilizados para proteger os servidores implementando regras baseadas em rede; da mesma forma, um firewall de aplicativo da web (WAF) é um dispositivo, plug-in de servidor ou filtro que aplica um conjunto de regras a uma conversa HTTP. Geralmente, essas regras abrangem ataques comuns, como XSS (Cross-site Scripting) e SQL Injection. Ao personalizar as regras para o aplicativo, muitos ataques podem ser identificados e bloqueados. O esforço para executar essa customização pode ser significativo e precisa ser mantido à medida que o aplicativo é modificado. Alguns exemplos comuns de WAF são ModSecurity e PHPIDS.</p><p>API de segurança</p><p>ESAPI (A API de segurança corporativa da OWASP) é uma biblioteca de controle de segurança de aplicativos da web de código aberto e gratuita desenvolvida pela OWASP, que facilita aos programadores a criação de aplicativos de menor risco. As bibliotecas ESAPI foram projetadas para facilitar a adaptação dos programadores à segurança dos aplicativos existentes. As bibliotecas ESAPI também servem como uma base sólida para novos desenvolvimentos.<br>Os módulos e seu lugar na arquitetura do aplicativo podem ser vistos na Figura 5 .</p><p><img src=https://mk0resourcesinfm536w.kinstacdn.com/wp-content/uploads/011012_1356_CrossSiteSc5.jpg loading=lazy></p><p>Figura 5. Módulos<a class=link href=https://resources.infosecinstitute.com/cross-site-scripting-xss/www.owasp.org target=_blank rel=noopener> ESAPI </a>(<a class=link href=https://resources.infosecinstitute.com/cross-site-scripting-xss/www.owasp.org target=_blank rel=noopener> www.owasp.org </a>)</p><p>Conclusão</p><p>Com o advento da Web 2.0, os aplicativos da Web melhoraram significativamente a funcionalidade e a apresentação, mas, ao mesmo tempo, o fator de risco também aumentou. A implementação ignorante dessas tecnologias afeta a funcionalidade e o comportamento do aplicativo, o que representa um risco significativo para o usuário final. O risco se torna ainda mais grave quando outra falha em um componente é fundida com ele (neste caso, XSS + CSRF). Portanto, para garantir a segurança, os desenvolvedores e os usuários finais devem tomar as devidas precauções ao lidar com aplicativos da Web.</p><p>Referências para leitura adicional</p><ul><li><p><a class=link href=https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29 target=_blank rel=noopener>https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)</a></p></li><li><p><a class=link href=http://ha.ckers.org/xss.html target=_blank rel=noopener>http://ha.ckers.org/xss.html</a></p></li><li><p><a class=link href=http://www.steve.org.uk/Security/XSS/ target=_blank rel=noopener>http://www.steve.org.uk/Security/XSS/</a></p></li><li><p><a class=link href=http://noscript.net/features target=_blank rel=noopener>http://noscript.net/features</a></p></li></ul></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2020 -
2022 ZYChimne</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.11.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#atenuando-a-falha>Atenuando a falha</a></li><li><a href=#usuário-final-um-usuário-pode-tomar-a-seguinte-medida-para-se-proteger-do-xss>Usuário final: um usuário pode tomar a seguinte medida para se proteger do XSS</a></li><li><a href=#desativando-scripts>Desativando scripts</a></li><li><a href=#final-do-desenvolvedor-as-seguintes-técnicas-podem-ser-usadas-pelos-desenvolvedores-para-liberar-o-aplicativo-web-do-xss>Final do desenvolvedor: as seguintes técnicas podem ser usadas pelos desenvolvedores para liberar o aplicativo Web do XSS</a></li><li><a href=#codificação-de-saída>Codificação de saída</a></li><li><a href=#validando-entrada-não-confiável>Validando entrada não confiável</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>