<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=robots content="all"><meta name=robots content="index,follow"><meta name=googlebot content="index,follow"><meta name=bingbot content="index,follow"><link rel=sitemap type=application/xml title=Sitemap href=https://nexus-security.github.io/sitemap.xml><meta property="og:type" content="article"><meta name=author content="0x000216"><meta property="og:locale" content="en"><meta name=language content="English"><base href=https://Nexus-Security.github.io/posts/2016-09-09-a-pythonista-review-of-haskell/><link rel=icon href=/fav.ico type=image/x-icon><link rel=alternate type=application/rss+xml title=RSS href=https://nexus-security.github.io/index.xml><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="(I&amp;rsquo;d like to give a big shoutout to John Chandler Burnham, who published a very clear and comprehensive set of notes that helped me immensely.)
Background I&amp;rsquo;ve used Python in production for about three years now. Even as it&amp;rsquo;s a wonderful Swiss Army knife, Python also feels limiting in some ways. The same classes of bugs (e.g. type casting / translation errors, state management errors) kept cropping up, and Sisyphean bugs frustrate me."><title>A Pythonista's Review of Haskell</title><link rel=canonical href=https://Nexus-Security.github.io/posts/2016-09-09-a-pythonista-review-of-haskell/><link rel=stylesheet href=/scss/style.min.1f3200acb41251d94439982f0ccc8f6599efd31eaa9b4d6412b905bc3d5fa0b8.css><meta property="og:title" content="A Pythonista's Review of Haskell"><meta property="og:description" content="(I&amp;rsquo;d like to give a big shoutout to John Chandler Burnham, who published a very clear and comprehensive set of notes that helped me immensely.)
Background I&amp;rsquo;ve used Python in production for about three years now. Even as it&amp;rsquo;s a wonderful Swiss Army knife, Python also feels limiting in some ways. The same classes of bugs (e.g. type casting / translation errors, state management errors) kept cropping up, and Sisyphean bugs frustrate me."><meta property="og:url" content="https://Nexus-Security.github.io/posts/2016-09-09-a-pythonista-review-of-haskell/"><meta property="og:site_name" content="0x000216"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:published_time" content="2020-01-31T07:04:00+01:00"><meta property="article:modified_time" content="2020-01-31T07:04:00+01:00"><meta name=twitter:title content="A Pythonista's Review of Haskell"><meta name=twitter:description content="(I&amp;rsquo;d like to give a big shoutout to John Chandler Burnham, who published a very clear and comprehensive set of notes that helped me immensely.)
Background I&amp;rsquo;ve used Python in production for about three years now. Even as it&amp;rsquo;s a wonderful Swiss Army knife, Python also feels limiting in some ways. The same classes of bugs (e.g. type casting / translation errors, state management errors) kept cropping up, and Sisyphean bugs frustrate me."><link rel="shortcut icon" href=/fav.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"light")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><center><figure class=site-avatar><a href=/><img src=https://nexus-security.github.io/avatar.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>0x000216</a></h1><h2 class=site-description>Where Do Russian Hackers Store Their Exploits? 🤓 /ussr/bin/ 😋</h2></div><center></header><ol class=social-menu><li><a href=https://github.com/Nexus-Security target=_blank title=GitHub><svg width="72" height="72" viewBox="0 0 72 72" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M36 72c19.882251.0 36-16.117749 36-36 0-19.882251-16.117749-36-36-36-19.882251 365231026e-23-36 16.117749-36 36C24348735e-22 55.882251 16.117749 72 36 72z" fill="#3e75c3"/><path d="M35.9985 12C22.746 12 12 22.7870921 12 36.096644c0 10.6440272 6.876 19.6751861 16.4145 22.8617681C29.6145 59.1797862 30.0525 58.4358488 30.0525 57.7973276 30.0525 57.2250681 30.0315 55.7100863 30.0195 53.6996482c-6.6765 1.4562499-8.085-3.2302544-8.085-3.2302544-1.0905-2.7829884-2.664-3.5239139-2.664-3.5239139C17.091 45.4500754 19.4355 45.4801943 19.4355 45.4801943c2.4075.1701719 3.675 2.4833051 3.675 2.4833051 2.142 3.6820383 5.6175 2.6188404 6.9855 2.0014024C30.3135 48.4077535 30.9345 47.3460615 31.62 46.7436831 26.2905 46.1352808 20.688 44.0691228 20.688 34.8361671c0-2.6308879.9345-4.781379 2.4705-6.4665327C22.911 27.7597262 22.0875 25.3110578 23.3925 21.9934585c0 0 2.016-.6475568 6.6 2.4697516C31.908 23.9285993 33.96 23.6620468 36.0015 23.6515052 38.04 23.6620468 40.0935 23.9285993 42.0105 24.4632101c4.581-3.1173084 6.5925-2.4697516 6.5925-2.4697516C49.9125 25.3110578 49.089 27.7597262 48.8415 28.3696344 50.3805 30.0547881 51.309 32.2052792 51.309 34.8361671c0 9.2555448-5.6115 11.29309-10.9575 11.8894446.860999999999997.7439374 1.629 2.2137408 1.629 4.4621184C41.9805 54.4089489 41.9505 57.0067059 41.9505 57.7973276 41.9505 58.4418726 42.3825 59.1918338 43.6005 58.9554002 53.13 55.7627944 60 46.7376593 60 36.096644 60 22.7870921 49.254 12 35.9985 12" fill="#fff"/></g></svg></a></li><li><a href=mailto:0x000216@gmail.com target=_blank title=Email><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><path style="fill:#e6f3ff" d="M512 105.739v300.522c0 27.715-22.372 50.087-50.087 50.087H50.087C22.372 456.348.0 433.976.0 406.261V105.739c0-.89.0-1.781.111-2.671 1.336-25.6 21.704-45.969 47.304-47.304.89-.111 1.781-.111 2.671-.111h411.826c.89.0 1.892.0 2.783.111 25.489 1.336 45.857 21.704 47.193 47.193C512 103.847 512 104.849 512 105.739z"/><path style="fill:#cfdbe6" d="M464.696 55.763c-.892-.111-1.891-.111-2.783-.111H256v400.696h205.913c27.715.0 50.087-22.372 50.087-50.087V105.739c0-.89.0-1.892-.111-2.783C510.553 77.468 490.184 57.099 464.696 55.763z"/><path style="fill:#ff4b26" d="M511.889 102.957c-1.336-25.489-21.704-45.857-47.193-47.193C382.89 137.569 336.951 183.509 256 264.459 225.291 233.732 77.61 85.958 47.416 55.763c-25.6 1.336-45.969 21.704-47.304 47.304C0 103.958.0 104.849.0 105.739v300.522c0 27.715 22.372 50.087 50.087 50.087h16.696V169.739l165.621 165.51c6.456 6.567 15.026 9.795 23.597 9.795 8.57.0 17.141-3.228 23.597-9.795l165.621-165.621v286.72h16.696c27.715.0 50.087-22.372 50.087-50.087V105.739C512 104.849 512 103.847 511.889 102.957z"/><path style="fill:#d93f21" d="M279.596 335.249l165.621-165.621v286.72h16.696c27.715.0 50.087-22.372 50.087-50.087V105.739c0-.89.0-1.892-.111-2.783-1.336-25.489-21.704-45.857-47.193-47.193C382.891 137.569 336.951 183.509 256 264.459v80.584C264.57 345.043 273.141 341.816 279.596 335.249z"/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li><li><a href=https://nexus-security.github.io/index.xml target=_blank title=RSS><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><path style="fill:#f78c20" d="M78.333 355.334C35.14 355.334.0 390.474.0 433.667S35.14 512 78.333 512s78.333-35.14 78.333-78.333-35.14-78.333-78.333-78.333z"/><g><path style="fill:#ffa929" d="M78.333 381.445c-28.795.0-52.222 23.427-52.222 52.222s23.427 52.222 52.222 52.222 52.222-23.427 52.222-52.222-23.427-52.222-52.222-52.222z"/><path style="fill:#ffa929" d="M477.918 264.861c-21.843-51.641-53.111-98.019-92.936-137.842-39.824-39.824-86.201-71.093-137.843-92.935C193.669 11.468 136.874.0 78.333.0c-4.807.0-8.704 3.897-8.704 8.704v85.519c0 4.807 3.897 8.704 8.704 8.704 182.37.0 330.74 148.369 330.74 330.74.0 4.807 3.897 8.704 8.704 8.704h85.52c4.807.0 8.704-3.897 8.704-8.704C512 375.126 500.533 318.331 477.918 264.861z"/><path style="fill:#ffa929" d="M78.333 163.853c-4.807.0-8.704 3.897-8.704 8.704v95.74c0 4.807 3.897 8.704 8.704 8.704 86.386.0 156.666 70.281 156.666 156.666.0 4.807 3.897 8.704 8.704 8.704h95.74c4.807.0 8.704-3.897 8.704-8.704.0-72.07-28.065-139.826-79.027-190.787-50.961-50.961-118.717-79.027-190.787-79.027z"/></g><g><path style="fill:#f78c20" d="M78.333 242.186c-2.918.0-5.817.076-8.704.206v25.905c0 4.807 3.897 8.704 8.704 8.704 86.386.0 156.666 70.281 156.666 156.666.0 4.807 3.897 8.704 8.704 8.704h25.905c.129-2.886.206-5.786.206-8.704.0-105.752-85.729-191.481-191.481-191.481z"/><path style="fill:#f78c20" d="M78.333 68.113c-2.91.0-5.81.042-8.704.11v26.001c0 4.807 3.897 8.704 8.704 8.704 182.37.0 330.74 148.369 330.74 330.74.0 4.807 3.897 8.704 8.704 8.704h26.001c.067-2.894.11-5.793.11-8.704C443.887 231.777 280.223 68.113 78.333 68.113z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li><li><a href target=_blank title=Slack><svg width="256" height="256" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><path d="M165.964 15.838c-3.89-11.975-16.752-18.528-28.725-14.636-11.975 3.89-18.528 16.752-14.636 28.725l58.947 181.365c4.048 11.187 16.132 17.473 27.732 14.135 12.1-3.483 19.475-16.334 15.614-28.217L165.964 15.838" fill="#dfa22f"/><path d="M74.626 45.516C70.734 33.542 57.873 26.989 45.9 30.879 33.924 34.77 27.37 47.631 31.263 59.606l58.948 181.366c4.047 11.186 16.132 17.473 27.732 14.132 12.099-3.481 19.474-16.332 15.613-28.217L74.626 45.516" fill="#3cb187"/><path d="M240.162 166.045c11.975-3.89 18.526-16.75 14.636-28.726-3.89-11.973-16.752-18.527-28.725-14.636L44.708 181.632c-11.187 4.046-17.473 16.13-14.135 27.73 3.483 12.099 16.334 19.475 28.217 15.614l181.372-58.93" fill="#ce1e5b"/><path d="M82.508 217.27l43.347-14.084-14.086-43.352-43.35 14.09 14.089 43.347" fill="#392538"/><path d="M173.847 187.591c16.388-5.323 31.62-10.273 43.348-14.084l-14.088-43.36-43.35 14.09 14.09 43.354" fill="#bb242a"/><path d="M210.484 74.706c11.974-3.89 18.527-16.751 14.637-28.727-3.89-11.973-16.752-18.526-28.727-14.636L15.028 90.293C3.842 94.337-2.445 106.422.896 118.022c3.481 12.098 16.332 19.474 28.217 15.613l181.371-58.93" fill="#72c5cd"/><path d="M52.822 125.933c11.805-3.836 27.025-8.782 43.354-14.086-5.323-16.39-10.273-31.622-14.084-43.352l-43.36 14.092 14.09 43.346" fill="#248c73"/><path d="M144.16 96.256l43.356-14.088a546179.21 546179.21.0 00-14.089-43.36L130.07 52.9l14.09 43.356" fill="#62803a"/></svg></a></li><li><a href=https://www.minds.com/0x000216/ target=_blank title=Minds><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512"><g><g><path style="fill:#ffe1b2" d="M256 33.085C245.078 13.38 224.079.0 2e2.0c-23.781.0-45.57 13.293-56.594 34.184C115.711 41.602 96 66.977 96 96c0 .059.0.113.0.172-9.977 7.512-16 19.301-16 31.828.0 1.316.078 2.637.234 3.992C60.211 145.266 48 167.758 48 192c0 14.07 4.039 27.543 11.719 39.262C57.273 236.512 56 242.207 56 248c0 2.738.281 5.445.828 8.098C36.672 267.308 24 288.539 24 312c0 27.973 18.305 52.34 44.109 60.785C65.398 378.828 64 385.324 64 392c0 21.098 13.805 39.508 33.539 45.727C103.891 466.746 129.828 488 160 488c4.617.0 9.227-.512 13.766-1.527C181.992 502 198.141 512 216 512c16.687.0 31.396-8.567 40-21.523V33.085z"/></g><g><g><path style="fill:#ffb980" d="M264 256c-4.422.0-8-3.582-8-8 0-22.055-17.945-40-40-40-8.008.0-15.734 2.355-22.336 6.812-3.023 2.043-7.055 1.781-9.797-.652-3.156-2.809-8.477-6.16-15.867-6.16-4.422.0-8-3.582-8-8s3.578-8 8-8c7.711.0 15.234 2.293 21.719 6.539C197.773 194.246 206.758 192 216 192c30.875.0 56 25.121 56 56C272 252.418 268.422 256 264 256z"/></g></g><g><g><path style="fill:#ffb980" d="M120 120c18.977.0 36.875 7.312 50.414 20.594 3.141 3.09 8.203 3.047 11.312-.109 3.094-3.152 3.047-8.219-.109-11.312C165.07 112.941 143.187 104 120 104c-13.046.0-25.395 2.93-36.542 8.046C81.253 117.019 80 122.423 80 128c0 1.316.078 2.637.234 3.992-.094.062-.173.139-.267.202C91.423 124.501 105.193 120 120 120z"/></g></g><g><g><path style="fill:#ffb980" d="M216 360c0-4.418-3.578-8-8-8s-8 3.582-8 8c0 17.645-14.352 32-32 32-14.211.0-26.82-9.648-30.664-23.465-.703-2.512-2.578-4.523-5.039-5.395-2.453-.871-5.188-.492-7.305 1.02C114.094 371.906 101.305 376 88 376c-6.948.0-13.625-1.149-19.894-3.207-2.214 4.939-3.501 10.19-3.916 15.586C71.714 390.73 79.711 392 88 392c13.297.0 26.187-3.266 37.773-9.52C133.969 397.894 150.141 408 168 408c26.469.0 48-21.531 48-48z"/></g></g><g><path style="fill:#fdc88e" d="M488 312c0-23.461-12.672-44.691-32.828-55.902.547-2.652.828-5.359.828-8.098.0-5.793-1.273-11.488-3.719-16.738C459.961 219.543 464 206.07 464 192c0-24.242-12.211-46.734-32.234-60.008.156-1.355.234-2.676.234-3.992.0-12.527-6.023-24.316-16-31.828.0-.059.0-.113.0-.172.0-29.023-19.711-54.398-47.406-61.816C357.57 13.293 335.781.0 312 0c-24.08.0-45.078 13.38-56 33.085v457.391C264.604 503.433 279.313 512 296 512c17.859.0 34.008-10 42.234-25.527C342.773 487.488 347.383 488 352 488c30.172.0 56.109-21.254 62.461-50.273C434.195 431.508 448 413.097 448 392c0-6.676-1.398-13.172-4.109-19.215C469.695 364.34 488 339.973 488 312z"/></g><g><path style="fill:#f8ab6b" d="M272.008 151.199C272 151.465 272 151.734 272 152c0 26.469 21.531 48 48 48s48-21.531 48-48c0-4.418-3.578-8-8-8s-8 3.582-8 8c0 17.645-14.352 32-32 32s-32-14.355-32-32c0-2.184.219-4.359.656-6.465.492-2.395-.133-4.883-1.703-6.754-1.57-1.871-4.016-3.066-6.352-2.859-.453.012-.891.059-.602.078-13.234.0-24-10.766-24-24v31.813C260.673 147.348 266.061 149.988 272.008 151.199z"/></g><g><path style="fill:#f8ab6b" d="M296 328c9.242.0 18.219-2.246 26.281-6.539C328.765 325.707 336.289 328 344 328c4.422.0 8-3.582 8-8s-3.578-8-8-8c-7.391.0-12.711-3.352-15.867-6.16-2.742-2.434-6.766-2.695-9.797-.656C311.726 309.644 304 312 296 312c-22.055.0-40-17.945-40-40v39.116C266.174 321.517 280.337 328 296 328z"/></g><g><g><path style="fill:#f8ab6b" d="M431.765 131.992c.156-1.355.234-2.676.234-3.992.0-5.577-1.253-10.981-3.458-15.954C417.395 106.93 405.046 104 392 104c-4.422.0-8 3.582-8 8s3.578 8 8 8c14.807.0 28.577 4.501 40.032 12.194C431.939 132.131 431.859 132.054 431.765 131.992z"/></g></g><g><g><path style="fill:#f8ab6b" d="M447.81 388.38c-.415-5.396-1.702-10.647-3.916-15.586C437.624 374.85 430.948 376 424 376c-13.578.0-26.594-4.266-37.641-12.332-2.07-1.5-4.719-1.93-7.133-1.168-2.43.77-4.344 2.648-5.164 5.059C369.101 382.176 355.414 392 340 392c-4.422.0-8 3.582-8 8s3.578 8 8 8c18.875.0 35.961-10.191 45.094-26.156C396.976 388.512 410.258 392 424 392 432.288 392 440.285 390.73 447.81 388.38z"/></g></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li><li><a href=https://www.buymeacoffee.com/0x000216 target=_blank title=Coffee><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 340 340" style="enable-background:new 0 0 340 340"><g id="XMLID_18_"><polygon id="XMLID_138_" style="fill:#dedde0" points="76.429,290 80,340 170,340 170,290"/><polygon id="XMLID_169_" style="fill:#dedde0" points="170,80 61.429,80 65,130 170,130"/><polygon id="XMLID_197_" style="fill:#acabb1" points="170,290 170,340 260,340 263.571,290"/><polygon id="XMLID_221_" style="fill:#acabb1" points="170,80 170,130 275,130 278.571,80"/><path id="XMLID_222_" style="fill:#ffda44" d="M170 260c-22.091.0-40-22.386-40-50s17.909-50 40-50v-30H65 50l10 160h16.429H170V260z"/><path id="XMLID_33_" style="fill:#ff9811" d="M170 130v30c22.091.0 40 22.386 40 50s-17.909 50-40 50v30h93.571H280l10-160h-15H170z"/><path id="XMLID_223_" style="fill:#50412e" d="M210 210c0-27.614-17.909-50-40-50v1e2c22.091.0 40-22.386 40-50z"/><path id="XMLID_224_" style="fill:#786145" d="M130 210c0 27.614 17.909 50 40 50V160c-22.091.0-40 22.386-40 50z"/><polygon id="XMLID_225_" style="fill:#50412e" points="278.571,80 300,80 300,40 260,40 260,0 80,0 80,40 40,40 40,80 61.429,80 170,80"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About Us</span></a></li><li><a href=/termsofservice/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4L18.5 9.5a1.5 1.5.0 00-4-4L4 16v4"/><line x1="13.5" y1="6.5" x2="17.5" y2="10.5"/></svg><span>Terms Of Service</span></a></li><li><a href=/privacypolicy/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Privacy Policy</span></a></li><li><a href=/disclaimer/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Disclaimer</span></a></li><li><a href=/contact/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="5" width="18" height="14" rx="2"/><polyline points="3 7 12 13 21 7"/></svg><span>Contact Us</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/posts/2016-09-09-a-pythonista-review-of-haskell/>A Pythonista's Review of Haskell</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jan 31, 2020</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>21 minute read</time></div></footer></div></header><section class=article-content><p><img src="https://www.gravatar.com/avatar/56f019c1fcd83bb2c035aa59a0d73583?s=256" loading=lazy></p><p>(I&rsquo;d like to give a big shoutout to <a class=link href=https://github.com/johnchandlerburnham target=_blank rel=noopener>John Chandler Burnham</a>, who published <a class=link href=https://github.com/johnchandlerburnham/hpfp target=_blank rel=noopener>a very clear and comprehensive set of notes</a> that helped me immensely.)</p><hr><h2 id=background>Background</h2><p>I&rsquo;ve used Python in production for about three years now. Even as it&rsquo;s a wonderful Swiss Army knife, Python also feels limiting in some ways. The same classes of bugs (e.g. type casting / translation errors, state management errors) kept cropping up, and Sisyphean bugs frustrate me. Python is also quite slow when you compare the operations you want to execute vs. the theoretical maximum performance of those operations on the underlying hardware. I kept wondering about what was possible if I had used a different tool.</p><p>What would happen if a data pipeline was lazy instead of eager, not because I&rsquo;m using a lazy library API, but because the language is non-strict by default? What if you could use types in order to register properties of data instead of state?</p><p>Lastly, I wanted to break free of the practitioner&rsquo;s pragmatic culture and see what academia had to offer in the start of the art. I remember one conversation I had years ago with a professor in college who had previously worked in industry, and he said that <a class=link href=https://en.wikipedia.org/wiki/A*_search_algorithm target=_blank rel=noopener>A*</a> was invented twenty years before it was widely used in industry (e.g. video game development). I think having an understanding of what&rsquo;s possible and what the future might bring could prove useful in understanding how to get there as a practitioner.</p><p>I thought learning Haskell provided the highest likelihood of satisfying these requirements. So over the past three months, I&rsquo;ve been reading through <a class=link href=https://haskellbook.com/ target=_blank rel=noopener>“Haskell Programming, From First Principles” by Chris Allen and Julie Moronuki</a>, the 4th release candidate of the 1.0 edition (1.0-rc4). I&rsquo;m pleased to say that I made it to the end of this 1,857 page (by the e-reader PDF version) montrosity. Here&rsquo;s some of the things that I, as a software engineer who has used Python in production and Haskell doing book exercises only, liked and didn&rsquo;t like about Haskell.</p><h2 id=what-i-like-about-haskell>What I like about Haskell</h2><h3 id=the-type-system>The type system</h3><p>Haskell&rsquo;s type system makes Python&rsquo;s type system look downright primitive. The closest analogy I can think of is if you had direct access to dunder methods, like Python&rsquo;s <code>__eq__</code> vs. Haskell&rsquo;s <code>Data.Eq</code> typeclass constraint, when defining classes or methods. Then you had the ability to create <code>typing</code> type signatures on different, overlapping sets of these dunder methods somehow, and baked it all into your native toolchain as a set of compile-time guarantees. This still doesn&rsquo;t encapsulate the full power of the Haskell type system, like higher-kinded types and actual sum/product types. It&rsquo;s insanely mind-blowing. Constrained polymorphism is probably worth learning Haskell for alone.</p><p>I was reading through some of <a class=link href=https://hillelwayne.com target=_blank rel=noopener>Hillel Wayne&rsquo;s blog posts</a>, and <a class=link href=https://hillelwayne.com/post/why-dont-people-use-formal-methods/ target=_blank rel=noopener>one of them</a> discussed the <a class=link href=https://en.wikipedia.org/wiki/Curry%E2%80%93Howard_correspondence target=_blank rel=noopener>Curry-Howard correspondence</a>, which somehow proves a 1:1 association between aspects of a mathematical proof and aspects of a type system. You can convert a proof into a type, if your type system supports it. I think Haskell&rsquo;s type system respects this. I don&rsquo;t think Python&rsquo;s type system does.</p><h3 id=an-emphasis-on-structure>An emphasis on structure</h3><p>One key aspect of Haskell the authors came back to repeatedly (and I mean <em>repeatedly</em>) is Haskell&rsquo;s emphasis on <em>structure</em>. If I had to explain functors, applicatives, and monads to somebody else, it wouldn&rsquo;t be in terms of I/O, or error handling, or burritos. It&rsquo;d be <em>structure</em>.</p><p>Structure, in this case, refers to a higher-kinded or partially-applied type, like a list. You apply another type to a higher-kinded type to create a concrete type (e.g. <code>Integer</code> to <code>[]</code> to create <code>[Integer]</code> or a list of integers.) A functor instance <em>lifts</em> a function over some structure to affect only the values within. An applicative (a monoidal functor) leverages a structure and function together while lifting the function over structure. A monad (an applicative functor) creates new structure whilst in the process of lifting a function over existing structure.</p><p>Let&rsquo;s take this example that might explain functors and structure to a tiny degree. Say you want to add one to a list of integers in Python. You can do this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>xs = [1, 2, 3, 4, 5] # xs = [2, 3, 4, 5, 6] xs_ = map(lambda x : x + 1, xs) 
</span></span></code></pre></td></tr></table></div></div><p>In Haskell, this may look like:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>xs = [1, 2, 3, 4, 5] -- xs&#39; = [2, 3, 4, 5, 6] xs&#39; = map (+1) xs 
</span></span></code></pre></td></tr></table></div></div><p>Sure. But Haskell <em>also</em> has <code>fmap</code>, which stands for “functor map”. On lists this is straightforward:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-- xs&#39;&#39; = [2, 3, 4, 5, 6] xs&#39;&#39; = fmap (+1) xs 
</span></span></code></pre></td></tr></table></div></div><p>But you can also define it on other types, such as concrete <code>Maybe</code> values:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-- ys = (Just 2) ys = fmap (+1) (Just 1) 
</span></span></code></pre></td></tr></table></div></div><p>In both cases, you&rsquo;re lifting the method <code>(+1)</code> over <code>[]</code> and <code>Just</code> respectively to affect the value(s) within.</p><p>You can also more explicitly lift <code>fmap</code> inside nested structure, such as a list of concrete <code>Maybe</code> values using function composition:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-- zs = [Just 2, Just 3, Just 4] zs = (fmap . fmap) (+1) [Just 1, Just 2, Just 3] -- zs&#39; = [Just 2, Nothing, Just 4] zs&#39; = (fmap . fmap) (+1) [Just 1, Nothing, Just 3] 
</span></span></code></pre></td></tr></table></div></div><p>I don&rsquo;t think you can do anything like this with Python or any other practitioner&rsquo;s language that I&rsquo;m familiar with. This barely begins to touch the power of Haskell structure. I definitely recommend thinking in terms of structure when learning Haskell.</p><p>As an aside, I published <a class=link href=https://bytes.yingw787.com/posts/2019/12/06/monads target=_blank rel=noopener>a monad tutorial last year</a> before reading through the monads section, and uh, yeah. Not a good idea to speak authoritatively on a subject you know nothing about (if only because it may lead others astray). You can read <a class=link href=https://lobste.rs/s/fwyvqr/monads_aren_t_as_hard_as_you_think target=_blank rel=noopener>the feedback I got on that from lobste.rs here</a>.</p><h3 id=streams-and-stream-oriented-programming-foundations>Streams and stream-oriented programming foundations</h3><p>Haskell has native streams in the form of unbounded structures (such as lists), where you can apply <code>take</code> to take a number of elements for evaluation:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-- [1..] is a never-ending stream of increasingly large integers. -- -- `$` is an associativity forcing function, to evaluate everything to its right -- before evaluating anything to its left. -- -- `take 5` takes the first 5 values. -- -- The compiler takes the full expression, and returns: -- xs = [1, 2, 3, 4, 5] xs = take 5 $ [1..] 
</span></span></code></pre></td></tr></table></div></div><p>No need for separate generator syntax. This is due to Haskell&rsquo;s non-strict evaluation, compiler optimizations, and the clear delination between structure and values. This could be useful for languages implementing streaming frameworks, such as <a class=link href=https://hackage.haskell.org/package/streaming target=_blank rel=noopener><strong><code>streaming</code></strong></a>. Streaming is important for, among other things, implementing real-time analytics, which is slowly becoming a basic requirement for various BI platforms.</p><p>Even the base error type, <code>bottom</code> or <code>_|_</code>, is defined as an evaluation that never completes successfully, either because a computation failed, or because <em>there&rsquo;s an infinite loop</em>. See <a class=link href=https://wiki.haskell.org/Bottom target=_blank rel=noopener>the Haskell wiki definition of <code>bottom</code></a>. I don&rsquo;t think Python&rsquo;s <a class=link href=https://docs.python.org/3/library/exceptions.html#BaseException target=_blank rel=noopener><code>BaseException</code></a> has a built-in notion of infinite loops evaluating to an error condition. This appears super powerful to me, because the big error type introduced by going over network connections are network timeouts, which appear to most programs as infinitely long computations.</p><h3 id=property-based-testing>Property-based testing</h3><p>Haskell has <a class=link href=https://hackage.haskell.org/package/QuickCheck target=_blank rel=noopener><strong><code>Test.QuickCheck</code></strong></a>, a property-based testing framework that generates values to check a declared property. Python has <a class=link href=https://hypothesis.readthedocs.io/en/latest/ target=_blank rel=noopener><strong><code>hypothesis</code></strong></a>, but having used it a tiny bit for an open-source contribution, I don&rsquo;t think it&rsquo;s the same without the Haskell type system. The type system empowers effective property-based testing to a high degree. For example, in <code>Test.QuickCheck</code>, you can literally create a wholly abstract type, and then <em>cast it to different concrete types for different QuickCheck runs</em>. So you can check that your declared monoid is properly associative for <em>a set of different concrete types</em>, which QuickCheck will validate by running at least <em>100 different concrete values per concrete type signature</em>, while only needing to mutate the type signature. In production, libraries like <a class=link href=https://hackage.haskell.org/package/checkers target=_blank rel=noopener><strong><code>checkers</code> or <code>Test.QuickCheck.Checkers</code></strong></a> abstract away testing properties of common typeclass instances like functors, applicatives, and monads to give you soft assurances they work as intended. From my current understanding, I would categorize property-based testing as something between Monte Carlo simulation and constraint solving.</p><p>I can&rsquo;t overstate how powerful <code>Test.QuickCheck</code> is. I can run <em>hundreds</em> of unit tests <em>per dozen lines of code</em>, without having to set and mutate my own oracle values. By constrast, a couple thousand unit tests in a project with 10^5 LOC in Python would be considered well-tested. The vast majority of testing I did as part of the book exercises would be through <code>Test.QuickCheck</code>. <a class=link href=https://hackage.haskell.org/package/hspec target=_blank rel=noopener><strong><code>Hspec</code></strong></a>, the Haskell unit testing framework, hardly gets mentioned.</p><h3 id=ghci>GHCi</h3><p>An interpreter for a compiled language? Yup. <code>stack ghci</code> was a good friend during this time period. You can pretty much do anything that compiled Haskell can do. Load GHC language extensions? Check. Set runtime conditions like <code>:set -Wall</code> to see all raised warnings? Check. Print type signatures, kind-ness signatures, and other information around methods? Check.</p><p>There&rsquo;s some weird edges around GHCi, mostly around the difference in runtime behavior between GHC and GHCi. Ordering matters in GHCi and not in an equivalent source file compiled using GHC. GHCi natively prints results to terminal and therefore deriving <code>Show</code> is necessary for type definitions referenced in GHCi. GHCi defaults types to <code>()</code> if they&rsquo;re not specified vs. GHC&rsquo;s compile-time error, which for me led to some interesting <code>QuickCheck</code> behavior. However, none of this really impacted my workflows very much, or took away from how impressive GHCi was.</p><h3 id=hoogle>Hoogle</h3><p><a class=link href=https://hoogle.haskell.org/ target=_blank rel=noopener>Hoogle</a> is Haskell&rsquo;s API search engine where, among other things, you can search a method for by passing in <em>the type signature of a method you think you want</em>. There&rsquo;s <a class=link href=https://hackage.haskell.org/ target=_blank rel=noopener>Hackage</a>, whose search maps more closely to that of <a class=link href=https://pypi.org/ target=_blank rel=noopener>PyPI</a>, but I don&rsquo;t think Python has anything like Hoogle. I don&rsquo;t think Hoogle exists just as a flex on lesser-typed languages. I&rsquo;ve had to search for some things there and I&rsquo;d say it&rsquo;s been useful even to a beginner like me. I can see how using such a tool would become easier as you become more and more familiar with the Haskell standard library and the major package ecosystem.</p><h2 id=what-i-dislike-about-haskell>What I dislike about Haskell</h2><h3 id=cognitive-load>Cognitive load</h3><p>My appreciation of programming as an art and as a discipline increased by my learning Haskell, at the cost of my brain constantly melting out my ears and my eyeballs not comprehending what I was reading. The cognitive load was <em>insane</em>. Three months in and I still have little idea on how to write production-grade Haskell code.</p><p>This may just be that this specific book is a high-level overview of Haskell and not a practitioner&rsquo;s guide. Chris, one of the authors, mentioned <a class=link href=https://bitemyapp.com/blog/wrapping-up-haskellbook/ target=_blank rel=noopener>some differences in direction with Julie</a> with respect to the book&rsquo;s purpose. Julie&rsquo;s new book, <a class=link href=https://joyofhaskell.com/ target=_blank rel=noopener>“The Joy of Haskell”</a>, sells itself as “extremely approachable” and “a practical problem-motivated approach”, which may be more catered towards her interests. In my experience, the longer a book is, the more times I need to review it in order to absorb all the content.</p><p>Then again, I remember how my old Python code was absolute hot garbage, and I only really got good at Python about a year into my first job and asked questions every 20 minutes for a month and read 10-15 books on the subject. If I started using Haskell at a Haskell-friendly workplace, I&rsquo;m sure it&rsquo;d be much the same story: first overwhelmed, then awed, then routine.</p><p>IMHO, the solution to high cognitive load, given a high enough reward, is just persistent, methodical execution towards learning. If I had to choose one feeling, I generally prefer being overwhelmed to being helpless. I find it easier to sprout enough dendrites to understand this stuff one day and add it to my toolbox rather than stomach the regret of the path not taken.</p><h3 id=indentation>Indentation</h3><p>Haskell, like Python, practices <a class=link href=https://en.wikipedia.org/wiki/Off-side_rule target=_blank rel=noopener>indentation-as-code</a>, where indentation affects program structure and execution. I found myself unused to Haskell notation where the program seems to backtrack in on itself, such as applying <code>do</code>, <code>let</code>, and <code>where</code> notation. Here&rsquo;s an example with all three in Haskell, taken from the book:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>gameWords :: IO WordList gameWords = do (WordList aw) &lt;- allWords return $ WordList (filter gameLength aw) where gameLength w = let l = length (w :: String) in l &gt;= minWordLength &amp;&amp; l &lt; maxWordLength 
</span></span></code></pre></td></tr></table></div></div><p>IIRC the last few lines wouldn&rsquo;t compile until I indented at least that much (like, past the start of variable <code>gameLength</code>, instead of just 2 spaces in like the rest of the program). If I indented more, it would work the same. In Python, I would get a clean <code>IndentationError</code> for everything except the proper indentation, and if I indented more and remained valid, it would imply different code behavior (like a scoping change).</p><p>Ultimately, I don&rsquo;t think this is a big issue. Haskell has code auto-formatters like <a class=link href=https://hackage.haskell.org/package/haskell-formatter target=_blank rel=noopener><strong><code>haskell-formatter</code></strong></a>, much like Python&rsquo;s <a class=link href=https://black.readthedocs.io/en/stable/ target=_blank rel=noopener><strong><code>black</code></strong></a>. Use it and move on. Bikeshed about something else, you know?</p><h3 id=concurrency--parallelism>Concurrency / Parallelism</h3><p>Since Haskell is a lambda calculus, and everything is functional, I thought I could get parallelism trivially. Trivially, as in I expected GHCi could be run with multiple processes / threads using a config flag or file, and you could configure GHC to create a compiled binary targeting a (max?) specific number of processes / threads.</p><p>Nope. As far as I can tell, you still have to mutate your source code, and use a library, such as <a class=link href=https://hackage.haskell.org/package/parallel-3.2.2.0 target=_blank rel=noopener><strong><code>Control.Parallel</code></strong></a> (external dep) or <a class=link href=https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent.html target=_blank rel=noopener><strong><code>Control.Concurrent</code></strong></a> (base stdlib). Simon Marlow&rsquo;s <a class=link href=https://www.oreilly.com/library/view/parallel-and-concurrent/9781449335939/ target=_blank rel=noopener>“Parallel and Concurrent Programming in Haskell”</a> is probably a must-read to understand this topic (and things like <a class=link href=https://hackage.haskell.org/package/base-4.12.0.0/docs/Control-Concurrent-MVar.html target=_blank rel=noopener><strong><code>Control.Concurrent.MVar</code></strong></a>).</p><p>I get concerns about resource contention, and the fact that side effects may exist and compile may imply non-trivial parallelization, but it does reduce the value proposition of Haskell when comparing to something that&rsquo;s more “traditional”, where you have to change the source anyways to get those benefits. When I apply property-based testing to check monadic associativity and applicative composition on naive custom-defined <code>List</code> types using <a class=link href=https://hackage.haskell.org/package/checkers-0.4.4/docs/Test-QuickCheck-Checkers.html target=_blank rel=noopener><strong><code>checkers</code></strong></a>, the fact that it stalls one CPU core while not using the other 11 CPU cores (I have an Intel Xeon) kind of kills me inside.</p><p>I could be wrong. There might be an option in GHC or GHCi I don&rsquo;t know about that enables this to occur. If that&rsquo;s not the case though, I think if Haskell made parallelization more upfront and trivial, it would be a material selling point for practitioners.</p><h3 id=strictness--non-strictness>Strictness / Non-strictness</h3><p>Haskell is fundamentally a non-strict language. However, <em>you still need strict-ness in order to do useful stuff</em>. So the way Haskell ended up appearing to me in this regards was a mish-mash of strict and non-strict portions of the codebase. You have to take a look at GHC Core, the underlying strict (transpilation?) of GHC Haskell to understand how the code actually behaves, and GHC Core is not the most readable language. For example, for <code>Foldable</code> types, a left-associative fold <code>foldl</code> is strict over spine evaluation, while right-associative folds <code>foldr</code> is non-strict over spine evaluation.</p><p>There&rsquo;s some conventions people follow. For example, when implementing <code>Foldable</code> types, making the spine lazy and values strict is a point constantly hammered home. So does properly raising asynchronous exceptions. However, to me this falls far short of the guarantees I thought I could get, and I honestly prefer having an explicit distinction between lazy/eager APIs after seeing the alternative.</p><h3 id=package-management>Package Management</h3><p><code>stack uninstall $PACKAGE</code> does not exist, and I wish the reasoning was more clear (like code samples to indicate <em>why</em> it is unnecessary). Here&rsquo;s the <a class=link href=https://github.com/commercialhaskell/stack/issues/361 target=_blank rel=noopener>GitHub issue related to implementing <code>stack uninstall</code></a>, which was, as far as I can tell, closed without action. As a newbie, I do wish that there was guidance on the “proper” way to uninstall packages if <code>stack uninstall</code> is not available.</p><p>I also wish that there was a better way to version and lock environments. I would have loved to have package lockfiles available for source code work as part of the book, as parts of GHC have changed since the book was written.</p><h3 id=compatibility>Compatibility</h3><p>On the issue of compatibility.</p><p>Haskell has the ability to declare a type alias around an existing type, called <code>newtype</code>, that guarantees only the type name and not the underlying data representation changes. Ostensibly, this serves as a way to typecheck data and act as an extra constraint. What <code>newtype</code> really reminds me of though is a comment on Hacker News talking about how Lisp&rsquo;s type system enabled the creation of Lisp macros and tightly coupled a developer&rsquo;s team to its codebase. If you could define a DSL on top of Haskell and shoot yourself in the foot, <code>newtype</code> would likely the culprit. I&rsquo;m not sure how library compatibility would work. Does <code>newtype</code> exist as part of native top-level APIs for Haskel libraries? How much churn do production Haskell type signatures suffer from? This is an unknown quantity to me.</p><p>In addition to concerns about “horizontal” compatibility between third-party libraries in the same environment, I also worry about “vertical” (backwards / forwards) compatibility when upgrading or downgrading environments. Haskell respects the mathematics behind type theory, and when there are new discoveries, Haskell doesn&rsquo;t mind making breaking changes. For example, <a class=link href=https://stackoverflow.com/a/52238024/1497211 target=_blank rel=noopener>this Stack Overflow answer</a> helped me understand why I needed to implement <code>Semigroup</code> every time I needed to implement <code>Monoid</code>, which wasn&rsquo;t the case in the book examples. When <a class=link href=http://www.staff.city.ac.uk/~ross/papers/Applicative.html target=_blank rel=noopener><code>Applicative</code> and <code>Traversable</code> was discovered</a>, they were added to GHC 7.10. I believe I had to implement <code>Applicative</code> when I needed to implement <code>Monad</code> for various type definitions. Yeah. <em>Math changes</em>.</p><p>I&rsquo;m interested in seeing any published upgrade paths, or how existing Haskell projects pull core dependencies from upstream. Maybe it&rsquo;s just a different workflow than what I&rsquo;m used to, but in any case it would be helpful to understand for any production Haskell projects.</p><h3 id=small-nits>Small Nits</h3><p>Haskell has no null definition of type <code>Char</code>, at least according to <a class=link href=https://stackoverflow.com/a/58924575 target=_blank rel=noopener>this Stack Overflow answer</a>. Python doesn&rsquo;t distinguish between <code>Char</code> and <code>String</code> types with single and double quotes, so empty char is empty string is an empty list. It seems weird to me that for all the typing wealth Haskell provides, this base case doesn&rsquo;t exist, though I personally don&rsquo;t know what it is.</p><hr><p><code>Int</code> and <code>Integer</code> are two different types, according to <a class=link href=https://stackoverflow.com/a/12273762/1497211 target=_blank rel=noopener>this Stack Overflow post</a>. Apparently it&rsquo;s easier to just change the type signature rather than execute a type conversion. I&rsquo;m sure they have their reasons, but I personally don&rsquo;t understand this.</p><hr><p>I don&rsquo;t like how Haskell applies wildcard imports by default. Here&rsquo;s Haskell:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-- Wildcard import import Package -- Namespaced import import qualified Package as Package 
</span></span></code></pre></td></tr></table></div></div><p>vs Python:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=err>#</span> <span class=nx>Namespaced</span> <span class=kn>import</span> <span class=kn>import</span> <span class=kn>package</span> <span class=err>#</span> <span class=nx>Wildcard</span> <span class=kn>import</span> <span class=nx>from</span> <span class=kn>package</span> <span class=kn>import</span> <span class=o>*</span> 
</span></span></code></pre></td></tr></table></div></div><hr><p>Haskell can raise errors partway through evaluating an error message. This (feature?) seems alien to me:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Prelude&gt; map (+1) [1, 2, undefined] -- &#39;[2, 3,&#39; is still visible, and has been executed. [2,3,*** Exception: Prelude.undefined CallStack (from HasCallStack): error, called at libraries/base/GHC/Err.hs:79:14 in base:GHC.Err undefined, called at &lt;interactive&gt;:27:17 in interactive:Ghci14 Prelude&gt; 
</span></span></code></pre></td></tr></table></div></div><h3 id=community-organization>Community Organization</h3><p>One day, I was looking up how to use <code>FlexibleInstances</code>, which is a GHC language extension. The book referenced this URL:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://ghc.haskell.org/trac/haskell-prime/wiki/FlexibleInstances 
</span></span></code></pre></td></tr></table></div></div><p>As of <code>2020-01-14T16:38:59.758039-05:00</code>, this link returned <code>nginx: 404 Not Found</code>. When I searched for <code>FlexibleInstances</code> using DuckDuckGo, I got this completely new link:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>https://prime.haskell.org/wiki/FlexibleInstances 
</span></span></code></pre></td></tr></table></div></div><p>From <a class=link href=https://bitemyapp.com/blog/wrapping-up-haskellbook/ target=_blank rel=noopener>Christopher Allen&rsquo;s blog post finalizing “The Haskell Book”</a>, it looks like the book was last updated around end of 2018. So in less than two years, the link had rotted.</p><p>I think Python&rsquo;s spoiled me. I can go to python.org&rsquo;s website, and pull up a set of offline docs for <em>every GA version of Python going back to Python 1.4, published October 25th, 1996</em>. Don&rsquo;t take my word for it. Here&rsquo;s the <a class=link href=https://docs.python.org/release/1.4/ref/ target=_blank rel=noopener>Python 1.4 documentation</a>. I have no idea who even uses Python 1.4. But I&rsquo;m pretty sure that for whoever needs Python 1.4 (maybe some poor legacy embedded systems engineer), this specific link <em>will not rot</em>.</p><p>To be clear, I didn&rsquo;t choose to learn Haskell because it&rsquo;s friendly to developers. One of my reasons for learning Haskell, is to see what a language is like when it doesn&rsquo;t compromise. However, things like link rot, or a general affinity towards terseness, or a lack of unstructured documentation (IMHO type signatures aren&rsquo;t a substitute for documentation) or migrating the bug tracker to a GitLab deploy for reasons (where you now have to create an account and sign in to read issues) stand out in my mind as impediments that might make learning Haskell and growing the Haskell community unnecessarily difficult.</p><p>Perhaps I&rsquo;m being dramatic, but I oftentimes forget that I&rsquo;m extraordinarily privileged to live in a first-world country, with the financial capacity to attend conferences at will, gain access to core devs and library maintainers over email, and spend time to learn things for fun. Not everybody has that ability, and this stark contrast between community management styles brings this privilege to my mind&rsquo;s forefront. I think the Haskell community could take many cues on this subject from the Python community, and I think that would lend a massive step towards in sharing Haskell&rsquo;s beauty with more people around the world.</p><h2 id=projects-id-like-to-do-in-haskell>Projects I&rsquo;d like to do in Haskell</h2><p>I&rsquo;m probably tabling my journey towards learning additional Haskell until I ship some other stuff, but I already have some ideas for projects I would like to implement in Haskell:</p><ul><li><p><strong>A tool to model ETL workflows for integration testing</strong>: I&rsquo;ve found ETL workflows to be tremendously difficult to model, because verifying correctness almost entirely revolves around parsing side effects. Haskell is great at abstracting away side effects, and it&rsquo;s great at generative testing. Both of these attributes could apply to a new integration testing framework for something like Apache Airflow.</p></li><li><p><strong>An RFC-4180 compliant CSV parser</strong>: There&rsquo;s plenty of CSV parsers out there. There aren&rsquo;t too many that openly state to be RFC-4180 compliant, given the need to satisfy business requirements. Of those that are, I haven&rsquo;t seen any that publish test reports that can automatically verify RFC-4180 compliance. Of course, the goal of a CSV parser is to get the CSV file into a highly structured format as quickly as possible in order to avoid parsing errors further down the pipeline, but even getting that first step done is a materially non-trivial task. I&rsquo;d love to have a CSV parser that could be verified using some kind of IETF grammar generation tool, or modeled using formal reasoning. <a class=link href=http://hackage.haskell.org/package/liquidhaskell target=_blank rel=noopener><strong><code>liquidhaskell</code></strong></a> and <a class=link href=https://hackage.haskell.org/package/cassava target=_blank rel=noopener><strong><code>cassava</code></strong></a> would be great prior art for me to study.</p></li><li><p><strong>A POSIX-compatible, lazy data engineering pipelining tool</strong>: The big data engineering tool I&rsquo;ve used in the past is Apache Spark, but there are parts of Spark I wish were different. I believe the Spark RDD binary format underneath is framework-specific. Using it involves a REPL, instead of <code>stdin</code>/<code>stdout</code>. Finally, while the pipeline is lazy, the pipeline constructor is monolithic.</p><p>I&rsquo;d love to have a POSIX-compatible, composable data engineering framework with something like standard Parquet files (highly structured, a small, independent type system striped alongside data, columnar formatted, binary) acting as a persistent backing. I think POSIX and Haskell paired together would be such a great combination, and it&rsquo;s where Haskell&rsquo;s strengths like bare-metal performance and non-strictness can really shine. Imagine something like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pipelineBuilder source.parquet --conf baseConf.json \  | transformA --conf conf1.json \  | transformB -conf conf2.json \  &gt; out.parquet 
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=conclusion>Conclusion</h2><p>One interesting section of Haskell code the author pointed out was this method, as part of <a class=link href=https://github.com/softmechanics/yesod-core target=_blank rel=noopener><strong><code>yesod-core</code></strong></a> pinned at commit <code>db5e987797768e19cb6c0e6b7f8df1f836634c3b</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>addSubWidget :: (YesodSubRoute sub master) =&gt; sub -&gt; GWidget sub master a -&gt; GWidget sub&#39; master a addSubWidget sub w = do master &lt;- liftHandler getYesod let sr = fromSubRoute sub master i &lt;- GWidget $ lift $ lift $ lift $ lift $ lift $ lift $ lift get w&#39; &lt;- liftHandler $ toMasterHandlerMaybe sr (const sub) Nothing $ flip runStateT i $ runWriterT $ runWriterT $ runWriterT $ runWriterT $ runWriterT $ runWriterT $ runWriterT $ unGWidget w let ((((((((a, body), title), scripts), stylesheets), style), jscript), h), i&#39;) = w&#39; GWidget $ do tell body lift $ tell title lift $ lift $ tell scripts lift $ lift $ lift $ tell stylesheets lift $ lift $ lift $ lift $ tell style lift $ lift $ lift $ lift $ lift $ tell jscript lift $ lift $ lift $ lift $ lift $ lift $ tell h lift $ lift $ lift $ lift $ lift $ lift $ lift $ put i&#39; return a 
</span></span></code></pre></td></tr></table></div></div><p>The author points out that this is an abuse of monad transformers, and I&rsquo;m sure you can tell this isn&rsquo;t the cleanest Haskell code out there. My goal here isn&rsquo;t to diss the maintainers or authors of this code. I&rsquo;m pretty sure <a class=link href=https://github.com/snoyberg/ target=_blank rel=noopener><strong><code>@snoyberg</code></strong></a> is one of the most pre-eminent Haskell programmers in the world and he probably had good reason to write this method the way it is. What I do want to point out is <em>Haskell isn&rsquo;t a magical elixir</em>. It&rsquo;s still a programming language. For me, I put Haskell and those who used it on a pedestal and I thought that if I just learned Haskell, all my technical problems would go away. Learning Haskell and understanding it intimately helped me take it down from its pedestal, and I realized that the fundamental truths of software engineering still hold. How you use a tool is just as important as which tool you use. There are always tradeoffs you weigh when making decisions, especially in the face of development limitations like manpower and money. Make things work, then right, then fast, in order to ship.</p><p>Getting to a bare beginner&rsquo;s level in Haskell was an informative experience for me, and I hope I can continue learning and applying Haskell in my life. I think I grew immensely, both personally and professionally, from this experience, and I&rsquo;m tremendously grateful to the Haskell community for the journey thus far. To more adventures! 🍷</p><hr><p>(If you&rsquo;re interested, here are <a class=link href=http://github.com/yingw787/thehaskellbook target=_blank rel=noopener>my notes for “The Haskell Book”</a>.)</p><p><a class=link href="https://news.ycombinator.com/item?id=22195072" target=_blank rel=noopener>Hacker News</a></p><p><a class=link href=https://lobste.rs/s/ovebeq/pythonista_s_review_haskell target=_blank rel=noopener>Lobste.rs</a></p><p>from Hacker News <a class=link href=https://ift.tt/2RHeO8X target=_blank rel=noopener>https://ift.tt/2RHeO8X</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3987358164777632" crossorigin=anonymous></script>
<script data-name=BMC-Widget src=https://cdn.buymeacoffee.com/widget/1.0.0/prod/widget.prod.min.js data-id=0x000216 data-description=coffee! data-message=coffee! data-color=#FF813F data-position=right data-x_margin=28 data-y_margin=18></script></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#background>Background</a></li><li><a href=#what-i-like-about-haskell>What I like about Haskell</a><ol><li><a href=#the-type-system>The type system</a></li><li><a href=#an-emphasis-on-structure>An emphasis on structure</a></li><li><a href=#streams-and-stream-oriented-programming-foundations>Streams and stream-oriented programming foundations</a></li><li><a href=#property-based-testing>Property-based testing</a></li><li><a href=#ghci>GHCi</a></li><li><a href=#hoogle>Hoogle</a></li></ol></li><li><a href=#what-i-dislike-about-haskell>What I dislike about Haskell</a><ol><li><a href=#cognitive-load>Cognitive load</a></li><li><a href=#indentation>Indentation</a></li><li><a href=#concurrency--parallelism>Concurrency / Parallelism</a></li><li><a href=#strictness--non-strictness>Strictness / Non-strictness</a></li><li><a href=#package-management>Package Management</a></li><li><a href=#compatibility>Compatibility</a></li><li><a href=#small-nits>Small Nits</a></li><li><a href=#community-organization>Community Organization</a></li></ol></li><li><a href=#projects-id-like-to-do-in-haskell>Projects I&rsquo;d like to do in Haskell</a></li><li><a href=#conclusion>Conclusion</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>