<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Process list Each row in the process list represents a running process on the local computer. Actually, that’s not technically accurate. As my friend and Windows Internals co-author David Solomon likes to point out, processes do not run—only threads can run. Threads—not processes—are the entities that Windows schedules for execution and that consume CPU time. A process is simply the container for a set of resources, including one or more threads."><title>Colored rows and heatmap columns - sysinternas</title><link rel=canonical href=https://Nexus-Security.github.io/posts/2016-09-09-colored-rows-and-heatmap-columns/><link rel=stylesheet href=/scss/style.min.450926226e724574a6b936335ea06111f8aeb253d932c86cb2cc807341cd2889.css><meta property="og:title" content="Colored rows and heatmap columns - sysinternas"><meta property="og:description" content="Process list Each row in the process list represents a running process on the local computer. Actually, that’s not technically accurate. As my friend and Windows Internals co-author David Solomon likes to point out, processes do not run—only threads can run. Threads—not processes—are the entities that Windows schedules for execution and that consume CPU time. A process is simply the container for a set of resources, including one or more threads."><meta property="og:url" content="https://Nexus-Security.github.io/posts/2016-09-09-colored-rows-and-heatmap-columns/"><meta property="og:site_name" content="ZYChimne"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:published_time" content="2019-11-05T14:34:00+01:00"><meta property="article:modified_time" content="2019-11-05T14:34:00+01:00"><meta name=twitter:title content="Colored rows and heatmap columns - sysinternas"><meta name=twitter:description content="Process list Each row in the process list represents a running process on the local computer. Actually, that’s not technically accurate. As my friend and Windows Internals co-author David Solomon likes to point out, processes do not run—only threads can run. Threads—not processes—are the entities that Windows schedules for execution and that consume CPU time. A process is simply the container for a set of resources, including one or more threads."></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hue825486955cd7c56d95e38b4bd2a8e3c_229979_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>ZYChimne</a></h1><h2 class=site-description>Computer Science, Wuhan University</h2></div></header><ol class=social-menu><li><a href=https://github.com/Nexus-Security target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:0x000216@gmail.com target=_blank title=Email><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-gmail" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M16 20h3a1 1 0 001-1V5a1 1 0 00-1-1h-3v16z"/><path d="M5 20h3V4H5A1 1 0 004 5v14a1 1 0 001 1z"/><path d="M16 4l-4 4-4-4"/><path d="M4 6.5l8 7.5 8-7.5"/></svg></a></li><li><a href=https://www.buymeacoffee.com/0x000216 target=_blank title=Coffee><svg width="884" height="1279" viewBox="0 0 884 1279" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><defs><path d="M0 0H884V1279H0V0z" id="path_1"/><clipPath id="mask_1"><use xlink:href="#path_1"/></clipPath></defs><g id="buymeacoffee"><path d="M0 0H884V1279H0V0z" id="Background" fill="none" fill-rule="evenodd" stroke="none"/><g clip-path="url(#mask_1)"><path d="M791.109 297.518 790.231 297.002 788.201 296.383C789.018 297.072 790.04 297.472 791.109 297.518z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M803.916 388.891l-1 1 1-1z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M792.113 297.647C791.776 297.581 791.447 297.462 791.127 297.29 791.108 297.622 791.108 297.958 791.127 298.29 791.488 298.216 791.83 297.995 792.113 297.647z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M791.113 298.447h1v-1l-1 1z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M803.111 388.726 804.591 387.883 805.142 387.573 805.641 387.04C804.702 387.444 803.846 388.016 803.111 388.726z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M793.669 299.515 792.223 298.138 791.243 297.605C791.77 298.535 792.641 299.221 793.669 299.515z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M430.019 1186.18C428.864 1186.68 427.852 1187.46 427.076 1188.45L427.988 1187.87C428.608 1187.3 429.485 1186.63 430.019 1186.18z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M641.681 1144.63C641.681 1143.33 640.424 1143.57 640.729 1148.21 640.729 1147.84 641.035 1147.46 641.171 1147.1 641.341 1146.27 641.477 1145.46 641.681 1144.63z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M619.284 1186.18C618.129 1186.68 617.118 1187.46 616.342 1188.45L617.254 1187.87C617.873 1187.3 618.751 1186.63 619.284 1186.18z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M281.304 1196.06C280.427 1195.3 279.354 1194.8 278.207 1194.61 279.136 1195.06 280.065 1195.51 280.684 1195.85L281.304 1196.06z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M247.841 1164.01C247.704 1162.66 247.288 1161.35 246.619 1160.16 247.093 1161.39 247.489 1162.66 247.806 1163.94L247.841 1164.01z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M472.623 590.836c-45.941 19.667-98.077 41.966-165.647 41.966C278.71 632.746 250.58 628.868 223.353 621.274l46.733 479.806C271.74 1121.13 280.876 1139.83 295.679 1153.46 310.482 1167.09 329.87 1174.65 349.992 1174.65 349.992 1174.65 416.254 1178.09 438.365 1178.09 462.161 1178.09 533.516 1174.65 533.516 1174.65c20.12.0 39.503-7.57000000000016 54.303-21.2C602.619 1139.82 611.752 1121.13 613.406 1101.08l50.053-530.204C641.091 563.237 618.516 558.161 593.068 558.161 549.054 558.144 513.591 573.303 472.623 590.836z" id="Shape" fill="#fff" stroke="none"/><path d="M78.6885 386.132 79.4799 386.872 79.9962 387.182C79.5987 386.787 79.1603 386.435 78.6885 386.132z" id="Shape" fill="#0d0c22" stroke="none"/><path d="M879.567 341.849 872.53 306.352C866.215 274.503 851.882 244.409 819.19 232.898 808.711 229.215 796.821 227.633 788.786 220.01 780.751 212.388 778.376 200.55 776.518 189.572 773.076 169.423 769.842 149.257 766.314 129.143 763.269 111.85 760.86 92.4243 752.928 76.56c-10.324-21.3016-31.746-33.7591-53.048-42.001C688.965 30.4844 677.826 27.0375 666.517 24.2352 613.297 10.1947 557.342 5.03277 502.591 2.09047 436.875-1.53577 370.983-.443233 305.422 5.35968 256.625 9.79894 205.229 15.1674 158.858 32.0469c-16.948 6.1771-34.413 13.593-47.3 26.6872C95.7448 74.8221 90.5829 99.7026 102.128 119.765c8.208 14.247 22.111 24.313 36.857 30.972C158.192 159.317 178.251 165.846 198.829 170.215c57.297 12.664 116.642 17.636 175.178 19.753C438.887 192.586 503.87 190.464 568.44 183.618 584.408 181.863 600.347 179.758 616.257 177.304 634.995 174.43 647.022 149.928 641.499 132.859 634.891 112.453 617.134 104.538 597.055 107.618 594.095 108.082 591.153 108.512 588.193 108.942L586.06 109.252C579.257 110.113 572.455 110.915 565.653 111.661c-14.052 1.514-28.138 2.753-42.259 3.717C491.768 117.58 460.057 118.595 428.363 118.647c-31.144.0-62.305-.878-93.38-2.92500000000001C320.805 114.793 306.661 113.611 292.552 112.177 286.134 111.506 279.733 110.801 273.333 110.009L267.241 109.235 265.917 109.046 259.602 108.134C246.697 106.189 233.792 103.953 221.025 101.251 219.737 100.965 218.584 100.249 217.758 99.2193 216.932 98.1901 216.482 96.9099 216.482 95.5903 216.482 94.2706 216.932 92.9904 217.758 91.9612 218.584 90.9319 219.737 90.2152 221.025 89.9293H221.266C232.33 87.5721 243.479 85.5589 254.663 83.8038 258.392 83.2188 262.131 82.6453 265.882 82.0832H265.985C272.988 81.6186 280.026 80.3625 286.994 79.5366 347.624 73.2302 408.614 71.0801 469.538 73.1014 499.115 73.9618 528.676 75.6996 558.116 78.6935 564.448 79.3474 570.746 80.0357 577.043 80.8099 579.452 81.1025 581.878 81.4465 584.305 81.7391L589.191 82.4445C603.438 84.5667 617.61 87.1419 631.708 90.1703 652.597 94.7128 679.422 96.1925 688.713 119.077 691.673 126.338 693.015 134.408 694.649 142.03L696.731 151.752C696.786 151.926 696.826 152.105 696.852 152.285 701.773 175.227 706.7 198.169 711.632 221.111 711.994 222.806 712.002 224.557 711.657 226.255 711.312 227.954 710.621 229.562 709.626 230.982 708.632 232.401 707.355 233.6 705.877 234.504 704.398 235.408 702.75 235.997 701.033 236.236H700.895L697.884 236.649 694.908 237.044C685.478 238.272 676.038 239.419 666.586 240.486 647.968 242.608 629.322 244.443 610.648 245.992 573.539 249.077 536.356 251.102 499.098 252.066 480.114 252.57 461.135 252.806 442.162 252.771 366.643 252.712 291.189 248.322 216.173 239.625 208.051 238.662 199.93 237.629 191.808 236.58 198.106 237.389 187.231 235.96 185.029 235.651 179.867 234.928 174.705 234.177 169.543 233.397 152.216 230.798 134.993 227.598 117.7 224.793 96.7944 221.352 76.8005 223.073 57.8906 233.397c-15.5221 8.494-28.0851 21.519-36.013 37.338-8.1559 16.862-10.582 35.221-14.22974 53.34-3.64777 18.118-9.32591 37.613-7.17511 56.213C5.10128 420.431 33.165 453.054 73.5313 460.35 111.506 467.232 149.687 472.807 187.971 477.556 338.361 495.975 490.294 498.178 641.155 484.129 653.44 482.982 665.708 481.732 677.959 480.378 681.786 479.958 685.658 480.398 689.292 481.668S696.23 485.005 698.962 487.717 703.784 493.718 705.08 497.342C706.377 500.967 706.846 504.836 706.453 508.665L702.633 545.797c-7.697 75.031-15.394 150.057-23.091 225.077-8.029 78.783-16.111 157.56-24.244 236.326C653.004 1029.39 650.71 1051.57 648.416 1073.74 646.213 1095.58 645.904 1118.1 641.757 1139.68 635.218 1173.61 612.248 1194.45 578.73 1202.07 548.022 1209.06 516.652 1212.73 485.161 1213.01 450.249 1213.2 415.355 1211.65 380.443 1211.84 343.173 1212.05 297.525 1208.61 268.756 1180.87 243.479 1156.51 239.986 1118.36 236.545 1085.37 231.957 1041.7 227.409 998.039 222.9 954.381L197.607 711.615 181.244 554.538C180.968 551.94 180.693 549.376 180.435 546.76 178.473 528.023 165.207 509.681 144.301 510.627 126.407 511.418 106.069 526.629 108.168 546.76l12.13 116.454 25.087 240.89C152.532 972.528 159.661 1040.96 166.773 1109.41 168.15 1122.52 169.44 1135.67 170.885 1148.78 178.749 1220.43 233.465 1259.04 301.224 1269.91 340.799 1276.28 381.337 1277.59 421.497 1278.24 472.979 1279.07 524.977 1281.05 575.615 1271.72 650.653 1257.95 706.952 1207.85 714.987 1130.13 717.282 1107.69 719.576 1085.25 721.87 1062.8 729.498 988.559 737.115 914.313 744.72 840.061l24.881-242.61 11.408-111.188C781.577 480.749 783.905 475.565 787.649 471.478 791.392 467.391 796.352 464.617 801.794 463.567 823.25 459.386 843.761 452.245 859.023 435.916c24.295-25.998 29.13-59.895 20.544-94.067zM72.7365 365.835C73.247 365.68 72.3065 368.484 71.9034 369.792 71.8229 367.813 71.984 366.058 72.7365 365.835zm1.7756 16.105C74.6842 381.819 75.2003 382.508 75.7337 383.334 74.925 382.576 74.4089 382.009 74.4949 381.94H74.5121zM76.5597 384.641C77.6004 385.897 78.1569 386.689 76.5597 384.641zM80.7002 387.979h.2727C80.9729 388.313 81.473 388.645 81.6548 388.979 81.3533 388.612 81.0186 388.277 80.6548 387.979H80.7002zM800.796 382.989C793.088 390.319 781.473 393.726 769.996 395.43c-128.704 19.099-259.283 28.769-389.399 24.502C287.476 416.749 195.336 406.407 103.144 393.382 94.1102 392.109 84.3197 390.457 78.1082 383.798c-11.7004-12.561-5.9534-37.854-2.9079-53.03C77.9878 316.865 83.3218 298.334 99.8572 296.355 125.667 293.327 155.64 304.218 181.175 308.09 211.917 312.781 242.774 316.538 273.745 319.36 405.925 331.405 540.325 329.529 671.92 311.91 695.905 308.686 719.805 304.941 743.619 300.674 764.835 296.871 788.356 289.731 801.175 311.703 809.967 326.673 811.137 346.701 809.778 363.615 809.359 370.984 806.139 377.915 800.779 382.989H800.796z" id="Shape" fill="#fff" fill-rule="evenodd" stroke="none"/></g></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about-me/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About Me</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/posts/2016-09-09-colored-rows-and-heatmap-columns/>Colored rows and heatmap columns - sysinternas</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Nov 05, 2019</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>19 minute read</time></div></footer></div></header><section class=article-content><h4 id=process-list>Process list</h4><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Each row in the process list represents a running process on the local computer. Actually, that’s not technically accurate. As my friend and <em>Windows Internals</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> co-author David Solomon likes to point out, processes do not run—only <em>threads</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> can run. Threads—not processes—are the entities that Windows schedules for execution and that consume CPU time. A <em>process</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> is simply the container for a set of resources, including one or more threads. It’s also not accurate to refer to “active processes” or to “processes with running threads,” because many processes spend most of their lifetimes with none of their threads running or scheduled for execution. So each row in the process list really represents a process object on the system that has its own virtual address space and one or more threads that conceivably could execute code at some point. And as we’ll discuss later, the first few rows in the default (tree) view are exceptions. Going forward, I’ll refer to them as <em>running processes</em>.</p><h5 id=colored-rows-and-heatmap-columns>Colored rows and heatmap columns</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>One of the first things that stands out in the process list is its use of color. Row colors distinguish different types or states of processes, and colored <em>heatmaps</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> within certain columns call attention to processes consuming resources.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>A heatmap graphically highlights larger values in a table with shading or with different colors. The CPU Usage, Private Bytes, Working Set, and GPU Usage<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fn2a target=_blank rel=noopener>2</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> columns each show a pale shade of a distinct background color. For example, the CPU column is a very light green. When a process consumes a significant percentage of the resource’s availability, Procexp highlights that number with a correspondingly darker background shade. In <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fig02 target=_blank rel=noopener>Figure 3-2</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>, you can see how the darker shades in the CPU and memory columns call your attention to the two processes consuming those resources. Similarly, the column headers’ shading corresponds to the systemwide consumption of that resource. For example, the Working Set column header’s background color becomes darker when total working set usage increases, even if no single process is consuming a significant percentage of working set. You can disable the heatmap feature by unselecting View | Show Column Heatmaps.</p><p><a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fn2 target=_blank rel=noopener>2</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> The GPU Usage column is not displayed by default.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85MzBmZWhpcy90cGdnYXNyaS9jMmdwMGou" loading=lazy alt=Image></p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>FIGURE 3-2</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Two processes consuming resources and demonstrating Procexp’s heatmap feature.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Although you can configure which process types and states are highlighted and in what row color, these are the defaults:</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Light blue</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Indicates processes (“own processes”) that are running in the same user account as Procexp. Note that although they’re running in the same user account, they might be in different Local Security Authority (LSA) logon sessions, integrity levels, or terminal sessions, and therefore are not all necessarily running in the same security context. Also note that if you started Procexp as a different user, other applications on the desktop will not be highlighted as “own processes.”</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Pink</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Designates services. These are processes containing one or more Windows services.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Dark gray</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Indicates suspended processes. These are processes in which all threads are suspended and cannot be scheduled for execution. Note that on Windows 8 and newer, the Process Lifetime Manager (PLM) regularly suspends “modern” or Universal Windows Platform (UWP) processes when they do not have focus. Also, processes that have crashed might appear as suspended while Windows Error Reporting handles the crash. (Don’t confuse this gray with the lighter gray color that, with default Windows color schemes, indicates the selected row when the Procexp window does not have focus.)</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Violet</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Denotes “packed images.” Procexp uses simple heuristics to identify program files that might contain executable code in compressed form, encrypted form, or both. Malware often uses this technique to evade anti-malware and then unpack itself in memory and execute. Note that sometimes the heuristics result in false positives—for example, with debug builds of Microsoft Visual C++ applications.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Brown</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Indicates jobs. These are processes that have been associated with a job. A <em>job</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> is a Windows construct that allows one or more processes to be managed as a unit. Jobs can have constraints applied to them, such as memory and execution time limits. A process can be associated with at most one job. Jobs are not highlighted by default.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Yellow</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Indicates .NET processes. These are processes that use the Microsoft .NET Framework. This indicator is not enabled by default.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Cyan</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Indicates “Immersive” processes on Windows 8 or newer<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fn3a target=_blank rel=noopener>3</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>. These processes are “modern” or UWP processes, or in some other way they can interact with the “modern” app environment. Explorer.exe is usually thought of as a regular Win32 desktop process, but it renders the modern Start menu and is typically reported as an “Immersive” process.</p><p><a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fn3 target=_blank rel=noopener>3</a> According to the IsImmersiveProcess API.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Bright pink</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Indicates protected processes. Protected processes are not highlighted by default.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>If a process belongs to more than one of these color categories, the precedence order is Suspended, Immersive, Protected, Packed, .NET, Jobs, Services, Own Process. For example, if a process hosts a service and uses the .NET Framework, Procexp applies the highlight color associated with .NET processes because that has higher precedence than Services. Procexp requires administrative rights to recognize a packed image, a .NET process, or association with a job if the process is running at a higher integrity level or in a different user account from Procexp.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>In addition to highlighting process types, Procexp highlights new processes and processes that have just exited. By default, when Procexp identifies a new process, it highlights its row in the process list with a green background for one second. When a process exits, Procexp keeps it in the list for one second, highlighted in red. Note that even though the process appears in the list, if it is highlighted in red, the process has already exited and no longer exists. You can configure how long the “difference highlight” lasts by choosing Difference Highlight Duration from the Options menu and entering a number from 0 to 9 in the dialog box. (See <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fig03 target=_blank rel=noopener>Figure 3-3</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>.) Note that the actual duration also depends on the Procexp refresh interval. The difference highlighting changes only when the display is refreshed.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85MzBmZWhpcy90cGdnYXNyaS9jM2dwMGou" loading=lazy alt=Image></p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><strong>FIGURE 3-3</strong> Difference Highlighting Duration dialog box.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>To change whether a process type or difference is highlighted and in what color, choose Configure Colors from the Options menu. As indicated by <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fig04 target=_blank rel=noopener>Figure 3-4</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>, you can enable or disable the highlighting of changes or process types by selecting or clearing the corresponding boxes. New Objects and Deleted Objects also refer to items appearing in the DLL view and Handle view. Relocated DLLs, which is not selected by default, applies only to DLL view. Click the Change button to display a color-picker dialog box to change the highlighting color for the corresponding highlight type. By clicking the Change button next to the</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85MzBmZWhpcy90cGdnYXNyaS9jNGdwMGou" loading=lazy alt=Image></p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><strong>FIGURE 3-4</strong> Configure Colors dialog box.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Graph Background option, you can change the background color for all of Procexp’s graphical representations described throughout this chapter. The Defaults button restores Procexp’s default colors but leaves the check box selections as they are.</p><h5 id=updating-the-display>Updating the display</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>By default, Procexp updates dynamic attributes in the display once per second. Dynamic attributes are those that are likely to change regularly, such as CPU time. You can pause the updating by pressing the space bar; pressing space again resumes the automatic refresh. (Procexp’s status bar indicates when updating is paused.) You can trigger a one-time update of all the displayed data (dynamic <em>and</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> static attributes) by pressing F5 or clicking the Refresh icon in the toolbar. Finally, you can change the automatic refresh duration through the Update Speed submenu of the View menu. The available intervals range from 0.5 seconds to 10 seconds.</p><hr><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85aXRwZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> Tip</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Manually updating the display combined with difference highlighting is a great way to see all new and deleted objects across a time span of your choosing. Pause the update, perform actions on the system, and then press F5 in Procexp.</p><hr><h5 id=httpswwwbloggercomu1nulldefault-columns><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Default columns</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Each column in the process list represents some static or dynamic attribute of the process. Dynamic attributes are updated at each automatic refresh interval. The default configuration of Procexp shows these columns:</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Process</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This column shows the name of the executable, along with its icon if Procexp can identify the full path to the executable. The first three rows represent “pseudo-processes,” which I will describe in the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03lev3sec6 target=_blank rel=noopener>What you can expect to see</a>” section shortly.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>CPU</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This column shows the percentage of CPU time, rounded to two decimal places, consumed by the process in the last refresh interval. (It’s fully described in the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec4_html#ch03lev3sec9 target=_blank rel=noopener>Process Performance tab</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>” section later in this chapter. Also see the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev1sec1_html#ch03lev2sec1 target=_blank rel=noopener>Measuring CPU consumption</a>” section earlier in this chapter for more information.)</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Private Bytes</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This is the number of bytes allocated and committed by the process for its own use and that are not shareable with other processes. Per-process private bytes include heap and stack memory. Memory leaks are often exhibited by a continual rise in this value.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Working Set</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This column displays the amount of physical memory assigned to the process by the memory manager.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>PID</strong> The process ID.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Description and Company Name</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Information in these columns is extracted from the version information resource of the executable image file. These columns are populated only if Procexp is able to identify the path to the file and can read from it. If Procexp is not running with administrative rights, it will not be able to read that information from nonservice processes running in a different security context.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>You can choose to display many more attributes, which will be described in the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec4_html#ch03lev2sec4 target=_blank rel=noopener>Customizing column selections</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>” section later in this chapter.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>You can resize columns by dragging the border lines in the column headers. You can autosize a column to its current content by double-clicking the border line to the right of the column title. And you can reorder columns—except for the Process column, which is always the leftmost—by dragging the column headers. The Process column is also always kept in the view; if the other columns are wider than can fit in the window, they can be scrolled horizontally.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Clicking on a column header sorts the table by the data in that column in ascending order. Clicking the same column header again toggles between ascending and descending order. For example, clicking on the CPU column to get a descending sort shows the processes consuming the most CPU at the top of the list. The list automatically reorders at each refresh interval as different processes consume more or less CPU. Again here, there’s an exception for the Process column.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>One hidden trick in Procexp is that in both the main window and in the lower pane, pressing Ctrl+C copies the content of the selected row to the clipboard as tab-separated text.</p><h5 id=httpswwwbloggercomu1nullprocess-tree><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Process tree</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>As mentioned, the Process column is always the first one displayed. It has three sorting modes: ascending, descending, and Process Tree.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>By default, Procexp displays processes in a tree view, which shows the processes’ parent/child relationships. Whenever a process creates another process, Windows puts the process ID (PID) of the creating process (the <em>parent</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>) into the internal data structure of the new process (the <em>child</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>). Procexp uses this information to build its tree view. Unlike in UNIX, the process parent/child relationship is not used by Windows, so when a process exits, processes it created are not updated to identify another ancestor. In the Procexp tree view, processes that have no existing parent are left-aligned in the column.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>You can collapse or expand portions of the tree by clicking the plus (+) and minus (–) icons to the left of parent processes in the tree, or you can do it by selecting those nodes and pressing the left and right arrow keys. Nodes that you collapse remain collapsed if you switch to an ascending or descending sort on the Process column or any other column.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Clicking the Process column header cycles through an ascending sort by process name, a descending sort, and the tree view. You can also switch to the tree view at any time by pressing Ctrl+T or by clicking the Show Process Tree toolbar icon.</p><h5 id=tooltips>Tooltips</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Hovering the mouse pointer over a column entry in which the text does not fit within the column’s width displays a tooltip with the full text content of that entry. And yet again, the Process column is a special case.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>By default, hovering the pointer over any process name displays its command line and the full path to its executable image, if Procexp can obtain that information. As mentioned earlier, obtaining that information can require administrative rights in some cases. The command line and image path are not shown in the tooltip if the corresponding columns are enabled for display. Likewise, if the Description or Company Name column is not enabled, the tooltip displays that information.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>The tooltip shows additional information when possible. For example, when you hover the pointer over a service process, the tooltip lists the display and internal names of all the services hosted within that process. Hovering it over a WMI Provider Host (WmiPrvSe.exe) process shows the WMI providers, namespaces, and DLLs in that instance. The tooltips for different operating systems’ task host processes—such as taskeng.exe, taskhost.exe, taskhostw.exe, or taskhostex.exe—displays the tasks running within it. And hovering the pointer over a “modern” app on Windows 8 or newer shows its full package name.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>If the process has a user-defined comment associated with it and the Comment column is not selected for display, the comment also appears in the tooltip. (A user-defined comment can be entered in the Image tab of the process’ Properties dialog box. See the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev1sec4_html#ch03lev1sec4 target=_blank rel=noopener>Process details</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>” section later in the chapter for more information.)</p><h5 id=httpswwwbloggercomu1nullwhat-you-can-expect-to-see><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>What you can expect to see</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>There are some patterns you can always expect to see in Procexp on a normal Windows system. Some processes and parent/child relationships will always appear, as well as some pseudo-processes that Procexp uses to distinguish categories of kernel-mode activity.</p><h6 id=system-processes>System processes</h6><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>The first three rows in the Process Tree view are System Idle Process, System, and Interrupts. System Idle Process and Interrupts are not real operating system processes, and the System process does not run user-mode code.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>The System Idle Process (called just “Idle” by some utilities) has one “thread” per CPU and is used to account for CPU idle time when Windows is not running any program code. Because it isn’t a real process, it doesn’t have a PID—there’s no PID 0 in Windows. However, because Task Manager shows an artificial System Idle Process and displays 0 in its PID column, Procexp follows suit and assigns it PID 0.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>The System process hosts only kernel-mode system threads, which only ever run (as you might expect) in kernel mode. These threads typically execute operating system code from Ntoskrnl.exe and device driver code.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>The Interrupts pseudo-process represents kernel-mode time spent servicing interrupts and deferred procedure calls (DPCs). Procexp represents Interrupts as a child process of System because its time is spent entirely in kernel mode. Windows does not charge the time represented by this pseudo-process to the System process nor to any other process. Older versions of Task Manager incorrectly included interrupt and DPC time in its numbers for the System Idle Process. A system with heavy interrupt activity would therefore have appeared to be idle according to Task Manager. If you have a high interrupt or DPC load, you might want to investigate the reason by using Xperf to trace interrupts and DPCs or Kernrate to monitor kernel-mode CPU usage. For more information about interrupts and DPCs, see <em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Windows Internals</em>.</p><h6 id=startup-and-logon-processes>Startup and Logon Processes</h6><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>From the time Windows starts until the first user logs on, there’s a well-defined sequence of processes. By the time you log on and are able to see the process tree in Procexp, some of these processes have exited, so the user shell (typically Explorer.exe) appears on the left edge of the window with no parent process. For much more information on the startup and logon sequences, see <em>Windows Internals</em>.</p><p>As shown in <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fig05 target=_blank rel=noopener>Figure 3-5</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>, the System process starts an instance of Smss.exe (the Session Manager), which remains running until system shutdown. That Smss.exe launches two new instances of Smss.exe, one in session 0 and one in session 1, which create processes in their respective sessions. Both of these instances end up exiting before a user logs on, so the initial Smss.exe always appears not to have child processes. The instance of Smss.exe in session 0 starts an instance of Csrss.exe (the “client-server runtime” Windows subsystem) in session 0 and Wininit.exe. Wininit.exe starts Services.exe (the Service Control Manager process) and Lsass.exe (the Local Security Authority subsystem). In session 1, Smss.exe starts a new instance of Csrss.exe and Winlogon.exe. Winlogon starts LogonUI.exe to prompt the interactive user for credentials, and then it starts Userinit.exe (which starts Explorer) after the user has authenticated. Both LogonUI and Userinit typically exit before the shell initializes and the <a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>user can start Procexp. Most services are descendants of Services.exe; Services.exe does not host any services itself.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85MzBmZWhpcy90cGdnYXNyaS9jNWdwMGou" loading=lazy alt=Image></p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><strong>FIGURE 3-5</strong> Process tree in Windows 10.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>To view the complete startup process tree for yourself, refer to the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch05lev1sec6_html#ch05lev2sec17 target=_blank rel=noopener>Boot logging</a>” section in <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch05_html#ch05 target=_blank rel=noopener>Chapter 5</a>, “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch05_html#ch05 target=_blank rel=noopener>Process Monitor</a>.”</p><h6 id=user-processes>User Processes</h6><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>There are some typical patterns you might wonder about in the Procexp display. For example, you might see “own processes” that are children of service processes rather than descendants of Explorer. The most common examples are out-of-process DCOM components. An application invokes a component that COM determines needs to be hosted in a separate process. Even though the new process might run as the interactive user, the new process is launched by the process hosting the DcomLaunch service rather than directly by the client process. Similarly, on Windows Vista and Windows 7, the Desktop Window Manager (Dwm.exe) is launched as the desktop user by the Desktop Window Manager Session Manager service (UxSms). On Windows 8 and newer, Dwm.exe runs as a system-managed Window Manager account and is started by Winlogon.exe.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Another frequent pattern is the use of job objects. Some DCOM components, particularly Windows Management Instrumentation (WMI) hosting processes, run with restrictions on the amount of memory they can allocate, the number of child processes they can start (if any), or the maximum amount of CPU time they can charge. Anything launched through the Secondary Logon service (for example, with RunAs) is added to a job so that the process and any children it launches can be tracked as a unit and terminated if they’re still running when the user logs off. Finally, the Program Compatibility Assistant (PCA) tracks legacy applications on some versions of Windows so that it can offer a compatibility fix to the user if the PCA detects a potential compatibility problem for which it might have a solution after the last process in the job has exited. Jobs are not highlighted by default; see the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03lev3sec1 target=_blank rel=noopener>Colored rows and heatmap columns</a>” section earlier in this chapter for more information.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Virtualization-based security in Windows 10 and Windows Server 2016 enables features such as Credential Guard and Device Guard, and it creates user-mode processes that are outside of the direct control of Windows. Procexp can display the existence of the Secure System and LsaIso.exe<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fn4a target=_blank rel=noopener>4</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> processes, but little else about them.</p><p><a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fn4 target=_blank rel=noopener>4</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> That’s an upper-case “i” and not a lower-case “L” – it’s short for “LSA Isolated.” It’s not “LS Also.”</p><h5 id=process-actions>Process actions</h5><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>You can perform a number of actions on a process by right-clicking it or by selecting it and choosing any of the following options from the Process menu:</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Window submenu</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> If the process owns a visible window on the desktop, you can use the window submenu to bring it to the foreground or restore, minimize, maximize, or close it. The window submenu is disabled if the process owns no visible windows.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Set Affinity</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> On multi-CPU systems, you can set processor affinity for a process so that its threads will run only on the CPU or CPUs you specify. (See <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev2sec3_html#ch03fig06 target=_blank rel=noopener>Figure 3-6</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>.) This can be useful if you have a runaway CPU-hogging process that must be allowed to keep running but throttled back so that you can troubleshoot it. You can use Set Affinity to restrict the process to a single core temporarily and free up other CPUs so that the system is still usable. (If a particular process should always be restricted to a single CPU and you can’t modify its source code, use the SingleProcAffinity application compatibility shim or, as a last resort, modify the file’s PE header to specify affinity.)</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85MzBmZWhpcy90cGdnYXNyaS9jNmdwMGou" loading=lazy alt=Image></p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><strong>FIGURE 3-6</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Dialog box for setting processor affinity on an eight-processor system.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Set Priority</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> View or set the base scheduling priority for the process.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Kill Process</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> You can forcibly terminate a process by choosing Kill Process or by clicking the Kill Process button in the toolbar. By default, Procexp prompts you for confirmation before terminating the process. You can disable that prompt by clearing Confirm Kill in the Options menu.</p><hr><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85YXJ3ZWhpcy90cC5hc3JuL2NwZ2pn" loading=lazy alt=Image> Warning</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Forcibly terminating a process does not give the process an opportunity to shut down cleanly and can cause data loss or system instability. In addition, Procexp does not provide extra warnings if you try to terminate a system-critical process such as Csrss.exe. Terminating a system-critical process results in an immediate Windows blue screen crash.</p><hr><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Kill Process Tree</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> When Procexp is in the process-tree sorting mode, this menu item is available and allows you to forcibly terminate a process and all its descendants. If the Confirm Kill option is enabled, you will be prompted for confirmation first.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Restart</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> When you select this item, Procexp terminates the highlighted process (after optional confirmation) and starts the same image using the same command-line arguments. Note that the new instance might fail to work correctly if the original process depended on other operating characteristics, such as the security context, environment variables, or inherited object handles.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Suspend</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> If you want a process to become temporarily inactive so that a system resource—such as a network, CPU, or disk—becomes available for other processes, you can suspend the process’ threads. To resume a suspended process, choose the Resume item from the process context menu. Note that this feature can’t resume a “modern” app package that was suspended by the Process Lifetime Manager; the process will remain suspended.</p><hr><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85aXRwZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> Tip</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>Suspend can be useful when dealing with “buddy system” malware, in which two or more processes watch for each other’s termination, with the nonterminated one restarting its buddy if it dies. To defeat such malware, suspend the processes first and then terminate them. See <a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch20_html#ch20 target=_blank rel=noopener>Chapter 20</a>, “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch20_html#ch20 target=_blank rel=noopener>Malware</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>,” for additional information and for several real-world troubleshooting cases that succeeded with this technique.</p><hr><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Launch Depends</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> If the Dependency Walker (Depends.exe) utility is found, Procexp launches it with the path to the executable image of the selected process as a command-line argument. Depends.exe shows DLL dependencies. It used to ship with various Microsoft products, and it’s now distributed through <em><a class=link href=http://www.dependencywalker.com/ target=_blank rel=noopener>www.DependencyWalker.com</a></em>.</p><p><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Debug</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This menu item is available only if a debugger is registered in HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\AeDebug. Choosing Debug launches the registered debugger with <em>–p</em><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> followed by the selected process’ PID as the command-line arguments. Note that closing the debugger without detaching first terminates the debugee as well. If the debugger registration is changed while Procexp is running, Procexp needs to be restarted to pick up the change.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Create Dump submenu</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> You use the options on this submenu to capture a minidump or a full memory dump of the selected process to a file location of your choosing. Procexp captures a 32-bit or 64-bit dump, depending on the process’ bitness. Capturing a dump does not terminate the process.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Check VirusTotal</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This item submits the SHA1 hash of the process’ image file to the <a class=link href=http://virustotal.com/ target=_blank rel=noopener>VirusTotal.com</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> web service and reports the result in the VirusTotal column. See the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev1sec7_html#ch03lev1sec7 target=_blank rel=noopener>VirusTotal analysis</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>” section later in this chapter for more information.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Properties</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> This menu item displays the Properties dialog box for the selected process, which displays a wealth of information about the process. It’s described in detail in the “<a class=link href=https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/9780133986549/ch03lev1sec4_html#ch03lev1sec4 target=_blank rel=noopener>Process details</a><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a>” section later in this chapter.</p><p><img src="https://proquest-safaribooksonline-com.eztncc.vccs.edu:2443/getfile?item=Nzk4ZGFncnBjbTUxc3NpczAvL2UzNHQzNmE5OC85cXN1ZWhpcy90cGphcy5yL2NnZ3A-" loading=lazy alt=Image> <strong>Search Online</strong><a class=link href=https://www.blogger.com/u/1/null target=_blank rel=noopener></a> Procexp will launch a search for the selected executable name using your default browser and search engine. This option can be useful when researching malware or identifying the source of an unrecognized process.</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2020 -
2022 ZYChimne</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.11.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><ol><li><a href=#process-list>Process list</a></li></ol></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>